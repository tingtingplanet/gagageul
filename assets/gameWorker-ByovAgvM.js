var U_=Object.defineProperty;var J_=(le,Vn,ve)=>Vn in le?U_(le,Vn,{enumerable:!0,configurable:!0,writable:!0,value:ve}):le[Vn]=ve;var jn=(le,Vn,ve)=>J_(le,typeof Vn!="symbol"?Vn+"":Vn,ve);(function(){"use strict";var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Vn.exports,function(a,r){(function(){var i,c="4.17.21",l=200,v="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",y="Invalid `variable` option passed into `_.template`",N="__lodash_hash_undefined__",E=500,w="__lodash_placeholder__",W=1,R=2,I=4,M=1,$=2,on=1,un=2,Ln=4,On=8,Mn=16,dn=32,ne=64,bn=128,ae=256,me=512,$n=30,rr="...",ir=800,ri=16,ur=1,sr=2,ii=3,Ee=1/0,ye=9007199254740991,x=17976931348623157e292,G=NaN,j=4294967295,K=j-1,Z=j>>>1,Q=[["ary",bn],["bind",on],["bindKey",un],["curry",On],["curryRight",Mn],["flip",me],["partial",dn],["partialRight",ne],["rearg",ae]],pn="[object Arguments]",an="[object Array]",sn="[object AsyncFunction]",nn="[object Boolean]",k="[object Date]",gn="[object DOMException]",_n="[object Error]",Ie="[object Function]",qn="[object GeneratorFunction]",En="[object Map]",Hn="[object Number]",An="[object Null]",Oe="[object Object]",Xu="[object Promise]",sl="[object Proxy]",Nt="[object RegExp]",he="[object Set]",bt="[object String]",or="[object Symbol]",ol="[object Undefined]",Tt="[object WeakMap]",fl="[object WeakSet]",Rt="[object ArrayBuffer]",ft="[object DataView]",ui="[object Float32Array]",si="[object Float64Array]",oi="[object Int8Array]",fi="[object Int16Array]",li="[object Int32Array]",ci="[object Uint8Array]",ai="[object Uint8ClampedArray]",hi="[object Uint16Array]",di="[object Uint32Array]",ll=/\b__p \+= '';/g,cl=/\b(__p \+=) '' \+/g,al=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zu=/&(?:amp|lt|gt|quot|#39);/g,Qu=/[&<>"']/g,hl=RegExp(Zu.source),dl=RegExp(Qu.source),pl=/<%-([\s\S]+?)%>/g,gl=/<%([\s\S]+?)%>/g,ju=/<%=([\s\S]+?)%>/g,_l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vl=/^\w*$/,wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pi=/[\\^$.*+?()[\]{}|]/g,ml=RegExp(pi.source),gi=/^\s+/,yl=/\s/,xl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Al=/\{\n\/\* \[wrapped with (.+)\] \*/,Cl=/,? & /,Sl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,El=/[()=,{}\[\]\/\s]/,Il=/\\(\\)?/g,Ol=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vu=/\w*$/,Wl=/^[-+]0x[0-9a-f]+$/i,Nl=/^0b[01]+$/i,bl=/^\[object .+?Constructor\]$/,Tl=/^0o[0-7]+$/i,Rl=/^(?:0|[1-9]\d*)$/,Ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fr=/($^)/,Ml=/['\n\r\u2028\u2029\\]/g,lr="\\ud800-\\udfff",Gl="\\u0300-\\u036f",Bl="\\ufe20-\\ufe2f",Pl="\\u20d0-\\u20ff",ns=Gl+Bl+Pl,es="\\u2700-\\u27bf",ts="a-z\\xdf-\\xf6\\xf8-\\xff",Dl="\\xac\\xb1\\xd7\\xf7",$l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hl="\\u2000-\\u206f",Fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rs="A-Z\\xc0-\\xd6\\xd8-\\xde",is="\\ufe0e\\ufe0f",us=Dl+$l+Hl+Fl,_i="['’]",Ul="["+lr+"]",ss="["+us+"]",cr="["+ns+"]",os="\\d+",Jl="["+es+"]",fs="["+ts+"]",ls="[^"+lr+us+os+es+ts+rs+"]",vi="\\ud83c[\\udffb-\\udfff]",Kl="(?:"+cr+"|"+vi+")",cs="[^"+lr+"]",wi="(?:\\ud83c[\\udde6-\\uddff]){2}",mi="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="["+rs+"]",as="\\u200d",hs="(?:"+fs+"|"+ls+")",ql="(?:"+lt+"|"+ls+")",ds="(?:"+_i+"(?:d|ll|m|re|s|t|ve))?",ps="(?:"+_i+"(?:D|LL|M|RE|S|T|VE))?",gs=Kl+"?",_s="["+is+"]?",kl="(?:"+as+"(?:"+[cs,wi,mi].join("|")+")"+_s+gs+")*",zl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vs=_s+gs+kl,Xl="(?:"+[Jl,wi,mi].join("|")+")"+vs,Zl="(?:"+[cs+cr+"?",cr,wi,mi,Ul].join("|")+")",Ql=RegExp(_i,"g"),jl=RegExp(cr,"g"),yi=RegExp(vi+"(?="+vi+")|"+Zl+vs,"g"),Vl=RegExp([lt+"?"+fs+"+"+ds+"(?="+[ss,lt,"$"].join("|")+")",ql+"+"+ps+"(?="+[ss,lt+hs,"$"].join("|")+")",lt+"?"+hs+"+"+ds,lt+"+"+ps,Yl,zl,os,Xl].join("|"),"g"),nc=RegExp("["+as+lr+ns+is+"]"),ec=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rc=-1,cn={};cn[ui]=cn[si]=cn[oi]=cn[fi]=cn[li]=cn[ci]=cn[ai]=cn[hi]=cn[di]=!0,cn[pn]=cn[an]=cn[Rt]=cn[nn]=cn[ft]=cn[k]=cn[_n]=cn[Ie]=cn[En]=cn[Hn]=cn[Oe]=cn[Nt]=cn[he]=cn[bt]=cn[Tt]=!1;var ln={};ln[pn]=ln[an]=ln[Rt]=ln[ft]=ln[nn]=ln[k]=ln[ui]=ln[si]=ln[oi]=ln[fi]=ln[li]=ln[En]=ln[Hn]=ln[Oe]=ln[Nt]=ln[he]=ln[bt]=ln[or]=ln[ci]=ln[ai]=ln[hi]=ln[di]=!0,ln[_n]=ln[Ie]=ln[Tt]=!1;var ic={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fc=parseFloat,lc=parseInt,ws=typeof le=="object"&&le&&le.Object===Object&&le,cc=typeof self=="object"&&self&&self.Object===Object&&self,Wn=ws||cc||Function("return this")(),xi=r&&!r.nodeType&&r,Xe=xi&&!0&&a&&!a.nodeType&&a,ms=Xe&&Xe.exports===xi,Ai=ms&&ws.process,ee=function(){try{var p=Xe&&Xe.require&&Xe.require("util").types;return p||Ai&&Ai.binding&&Ai.binding("util")}catch{}}(),ys=ee&&ee.isArrayBuffer,xs=ee&&ee.isDate,As=ee&&ee.isMap,Cs=ee&&ee.isRegExp,Ss=ee&&ee.isSet,Es=ee&&ee.isTypedArray;function kn(p,A,m){switch(m.length){case 0:return p.call(A);case 1:return p.call(A,m[0]);case 2:return p.call(A,m[0],m[1]);case 3:return p.call(A,m[0],m[1],m[2])}return p.apply(A,m)}function ac(p,A,m,T){for(var H=-1,V=p==null?0:p.length;++H<V;){var Cn=p[H];A(T,Cn,m(Cn),p)}return T}function te(p,A){for(var m=-1,T=p==null?0:p.length;++m<T&&A(p[m],m,p)!==!1;);return p}function hc(p,A){for(var m=p==null?0:p.length;m--&&A(p[m],m,p)!==!1;);return p}function Is(p,A){for(var m=-1,T=p==null?0:p.length;++m<T;)if(!A(p[m],m,p))return!1;return!0}function De(p,A){for(var m=-1,T=p==null?0:p.length,H=0,V=[];++m<T;){var Cn=p[m];A(Cn,m,p)&&(V[H++]=Cn)}return V}function ar(p,A){var m=p==null?0:p.length;return!!m&&ct(p,A,0)>-1}function Ci(p,A,m){for(var T=-1,H=p==null?0:p.length;++T<H;)if(m(A,p[T]))return!0;return!1}function hn(p,A){for(var m=-1,T=p==null?0:p.length,H=Array(T);++m<T;)H[m]=A(p[m],m,p);return H}function $e(p,A){for(var m=-1,T=A.length,H=p.length;++m<T;)p[H+m]=A[m];return p}function Si(p,A,m,T){var H=-1,V=p==null?0:p.length;for(T&&V&&(m=p[++H]);++H<V;)m=A(m,p[H],H,p);return m}function dc(p,A,m,T){var H=p==null?0:p.length;for(T&&H&&(m=p[--H]);H--;)m=A(m,p[H],H,p);return m}function Ei(p,A){for(var m=-1,T=p==null?0:p.length;++m<T;)if(A(p[m],m,p))return!0;return!1}var pc=Ii("length");function gc(p){return p.split("")}function _c(p){return p.match(Sl)||[]}function Os(p,A,m){var T;return m(p,function(H,V,Cn){if(A(H,V,Cn))return T=V,!1}),T}function hr(p,A,m,T){for(var H=p.length,V=m+(T?1:-1);T?V--:++V<H;)if(A(p[V],V,p))return V;return-1}function ct(p,A,m){return A===A?Wc(p,A,m):hr(p,Ws,m)}function vc(p,A,m,T){for(var H=m-1,V=p.length;++H<V;)if(T(p[H],A))return H;return-1}function Ws(p){return p!==p}function Ns(p,A){var m=p==null?0:p.length;return m?Wi(p,A)/m:G}function Ii(p){return function(A){return A==null?i:A[p]}}function Oi(p){return function(A){return p==null?i:p[A]}}function bs(p,A,m,T,H){return H(p,function(V,Cn,fn){m=T?(T=!1,V):A(m,V,Cn,fn)}),m}function wc(p,A){var m=p.length;for(p.sort(A);m--;)p[m]=p[m].value;return p}function Wi(p,A){for(var m,T=-1,H=p.length;++T<H;){var V=A(p[T]);V!==i&&(m=m===i?V:m+V)}return m}function Ni(p,A){for(var m=-1,T=Array(p);++m<p;)T[m]=A(m);return T}function mc(p,A){return hn(A,function(m){return[m,p[m]]})}function Ts(p){return p&&p.slice(0,Gs(p)+1).replace(gi,"")}function zn(p){return function(A){return p(A)}}function bi(p,A){return hn(A,function(m){return p[m]})}function Lt(p,A){return p.has(A)}function Rs(p,A){for(var m=-1,T=p.length;++m<T&&ct(A,p[m],0)>-1;);return m}function Ls(p,A){for(var m=p.length;m--&&ct(A,p[m],0)>-1;);return m}function yc(p,A){for(var m=p.length,T=0;m--;)p[m]===A&&++T;return T}var xc=Oi(ic),Ac=Oi(uc);function Cc(p){return"\\"+oc[p]}function Sc(p,A){return p==null?i:p[A]}function at(p){return nc.test(p)}function Ec(p){return ec.test(p)}function Ic(p){for(var A,m=[];!(A=p.next()).done;)m.push(A.value);return m}function Ti(p){var A=-1,m=Array(p.size);return p.forEach(function(T,H){m[++A]=[H,T]}),m}function Ms(p,A){return function(m){return p(A(m))}}function He(p,A){for(var m=-1,T=p.length,H=0,V=[];++m<T;){var Cn=p[m];(Cn===A||Cn===w)&&(p[m]=w,V[H++]=m)}return V}function dr(p){var A=-1,m=Array(p.size);return p.forEach(function(T){m[++A]=T}),m}function Oc(p){var A=-1,m=Array(p.size);return p.forEach(function(T){m[++A]=[T,T]}),m}function Wc(p,A,m){for(var T=m-1,H=p.length;++T<H;)if(p[T]===A)return T;return-1}function Nc(p,A,m){for(var T=m+1;T--;)if(p[T]===A)return T;return T}function ht(p){return at(p)?Tc(p):pc(p)}function de(p){return at(p)?Rc(p):gc(p)}function Gs(p){for(var A=p.length;A--&&yl.test(p.charAt(A)););return A}var bc=Oi(sc);function Tc(p){for(var A=yi.lastIndex=0;yi.test(p);)++A;return A}function Rc(p){return p.match(yi)||[]}function Lc(p){return p.match(Vl)||[]}var Mc=function p(A){A=A==null?Wn:dt.defaults(Wn.Object(),A,dt.pick(Wn,tc));var m=A.Array,T=A.Date,H=A.Error,V=A.Function,Cn=A.Math,fn=A.Object,Ri=A.RegExp,Gc=A.String,re=A.TypeError,pr=m.prototype,Bc=V.prototype,pt=fn.prototype,gr=A["__core-js_shared__"],_r=Bc.toString,tn=pt.hasOwnProperty,Pc=0,Bs=function(){var n=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),vr=pt.toString,Dc=_r.call(fn),$c=Wn._,Hc=Ri("^"+_r.call(tn).replace(pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=ms?A.Buffer:i,Fe=A.Symbol,mr=A.Uint8Array,Ps=wr?wr.allocUnsafe:i,yr=Ms(fn.getPrototypeOf,fn),Ds=fn.create,$s=pt.propertyIsEnumerable,xr=pr.splice,Hs=Fe?Fe.isConcatSpreadable:i,Mt=Fe?Fe.iterator:i,Ze=Fe?Fe.toStringTag:i,Ar=function(){try{var n=et(fn,"defineProperty");return n({},"",{}),n}catch{}}(),Fc=A.clearTimeout!==Wn.clearTimeout&&A.clearTimeout,Uc=T&&T.now!==Wn.Date.now&&T.now,Jc=A.setTimeout!==Wn.setTimeout&&A.setTimeout,Cr=Cn.ceil,Sr=Cn.floor,Li=fn.getOwnPropertySymbols,Kc=wr?wr.isBuffer:i,Fs=A.isFinite,qc=pr.join,kc=Ms(fn.keys,fn),Sn=Cn.max,Tn=Cn.min,zc=T.now,Yc=A.parseInt,Us=Cn.random,Xc=pr.reverse,Mi=et(A,"DataView"),Gt=et(A,"Map"),Gi=et(A,"Promise"),gt=et(A,"Set"),Bt=et(A,"WeakMap"),Pt=et(fn,"create"),Er=Bt&&new Bt,_t={},Zc=tt(Mi),Qc=tt(Gt),jc=tt(Gi),Vc=tt(gt),na=tt(Bt),Ir=Fe?Fe.prototype:i,Dt=Ir?Ir.valueOf:i,Js=Ir?Ir.toString:i;function o(n){if(wn(n)&&!F(n)&&!(n instanceof Y)){if(n instanceof ie)return n;if(tn.call(n,"__wrapped__"))return qo(n)}return new ie(n)}var vt=function(){function n(){}return function(e){if(!vn(e))return{};if(Ds)return Ds(e);n.prototype=e;var t=new n;return n.prototype=i,t}}();function Or(){}function ie(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}o.templateSettings={escape:pl,evaluate:gl,interpolate:ju,variable:"",imports:{_:o}},o.prototype=Or.prototype,o.prototype.constructor=o,ie.prototype=vt(Or.prototype),ie.prototype.constructor=ie;function Y(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function ea(){var n=new Y(this.__wrapped__);return n.__actions__=Fn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Fn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Fn(this.__views__),n}function ta(){if(this.__filtered__){var n=new Y(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ra(){var n=this.__wrapped__.value(),e=this.__dir__,t=F(n),u=e<0,s=t?n.length:0,f=gh(0,s,this.__views__),h=f.start,d=f.end,g=d-h,C=u?d:h-1,S=this.__iteratees__,O=S.length,b=0,L=Tn(g,this.__takeCount__);if(!t||!u&&s==g&&L==g)return po(n,this.__actions__);var P=[];n:for(;g--&&b<L;){C+=e;for(var J=-1,D=n[C];++J<O;){var z=S[J],X=z.iteratee,Zn=z.type,Pn=X(D);if(Zn==sr)D=Pn;else if(!Pn){if(Zn==ur)continue n;break n}}P[b++]=D}return P}Y.prototype=vt(Or.prototype),Y.prototype.constructor=Y;function Qe(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var u=n[e];this.set(u[0],u[1])}}function ia(){this.__data__=Pt?Pt(null):{},this.size=0}function ua(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function sa(n){var e=this.__data__;if(Pt){var t=e[n];return t===N?i:t}return tn.call(e,n)?e[n]:i}function oa(n){var e=this.__data__;return Pt?e[n]!==i:tn.call(e,n)}function fa(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Pt&&e===i?N:e,this}Qe.prototype.clear=ia,Qe.prototype.delete=ua,Qe.prototype.get=sa,Qe.prototype.has=oa,Qe.prototype.set=fa;function We(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var u=n[e];this.set(u[0],u[1])}}function la(){this.__data__=[],this.size=0}function ca(n){var e=this.__data__,t=Wr(e,n);if(t<0)return!1;var u=e.length-1;return t==u?e.pop():xr.call(e,t,1),--this.size,!0}function aa(n){var e=this.__data__,t=Wr(e,n);return t<0?i:e[t][1]}function ha(n){return Wr(this.__data__,n)>-1}function da(n,e){var t=this.__data__,u=Wr(t,n);return u<0?(++this.size,t.push([n,e])):t[u][1]=e,this}We.prototype.clear=la,We.prototype.delete=ca,We.prototype.get=aa,We.prototype.has=ha,We.prototype.set=da;function Ne(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var u=n[e];this.set(u[0],u[1])}}function pa(){this.size=0,this.__data__={hash:new Qe,map:new(Gt||We),string:new Qe}}function ga(n){var e=Hr(this,n).delete(n);return this.size-=e?1:0,e}function _a(n){return Hr(this,n).get(n)}function va(n){return Hr(this,n).has(n)}function wa(n,e){var t=Hr(this,n),u=t.size;return t.set(n,e),this.size+=t.size==u?0:1,this}Ne.prototype.clear=pa,Ne.prototype.delete=ga,Ne.prototype.get=_a,Ne.prototype.has=va,Ne.prototype.set=wa;function je(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ne;++e<t;)this.add(n[e])}function ma(n){return this.__data__.set(n,N),this}function ya(n){return this.__data__.has(n)}je.prototype.add=je.prototype.push=ma,je.prototype.has=ya;function pe(n){var e=this.__data__=new We(n);this.size=e.size}function xa(){this.__data__=new We,this.size=0}function Aa(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Ca(n){return this.__data__.get(n)}function Sa(n){return this.__data__.has(n)}function Ea(n,e){var t=this.__data__;if(t instanceof We){var u=t.__data__;if(!Gt||u.length<l-1)return u.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ne(u)}return t.set(n,e),this.size=t.size,this}pe.prototype.clear=xa,pe.prototype.delete=Aa,pe.prototype.get=Ca,pe.prototype.has=Sa,pe.prototype.set=Ea;function Ks(n,e){var t=F(n),u=!t&&rt(n),s=!t&&!u&&ke(n),f=!t&&!u&&!s&&xt(n),h=t||u||s||f,d=h?Ni(n.length,Gc):[],g=d.length;for(var C in n)(e||tn.call(n,C))&&!(h&&(C=="length"||s&&(C=="offset"||C=="parent")||f&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||Le(C,g)))&&d.push(C);return d}function qs(n){var e=n.length;return e?n[ki(0,e-1)]:i}function Ia(n,e){return Fr(Fn(n),Ve(e,0,n.length))}function Oa(n){return Fr(Fn(n))}function Bi(n,e,t){(t!==i&&!ge(n[e],t)||t===i&&!(e in n))&&be(n,e,t)}function $t(n,e,t){var u=n[e];(!(tn.call(n,e)&&ge(u,t))||t===i&&!(e in n))&&be(n,e,t)}function Wr(n,e){for(var t=n.length;t--;)if(ge(n[t][0],e))return t;return-1}function Wa(n,e,t,u){return Ue(n,function(s,f,h){e(u,s,t(s),h)}),u}function ks(n,e){return n&&Ae(e,In(e),n)}function Na(n,e){return n&&Ae(e,Jn(e),n)}function be(n,e,t){e=="__proto__"&&Ar?Ar(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Pi(n,e){for(var t=-1,u=e.length,s=m(u),f=n==null;++t<u;)s[t]=f?i:vu(n,e[t]);return s}function Ve(n,e,t){return n===n&&(t!==i&&(n=n<=t?n:t),e!==i&&(n=n>=e?n:e)),n}function ue(n,e,t,u,s,f){var h,d=e&W,g=e&R,C=e&I;if(t&&(h=s?t(n,u,s,f):t(n)),h!==i)return h;if(!vn(n))return n;var S=F(n);if(S){if(h=vh(n),!d)return Fn(n,h)}else{var O=Rn(n),b=O==Ie||O==qn;if(ke(n))return vo(n,d);if(O==Oe||O==pn||b&&!s){if(h=g||b?{}:Bo(n),!d)return g?sh(n,Na(h,n)):uh(n,ks(h,n))}else{if(!ln[O])return s?n:{};h=wh(n,O,d)}}f||(f=new pe);var L=f.get(n);if(L)return L;f.set(n,h),hf(n)?n.forEach(function(D){h.add(ue(D,e,t,D,n,f))}):cf(n)&&n.forEach(function(D,z){h.set(z,ue(D,e,t,z,n,f))});var P=C?g?ru:tu:g?Jn:In,J=S?i:P(n);return te(J||n,function(D,z){J&&(z=D,D=n[z]),$t(h,z,ue(D,e,t,z,n,f))}),h}function ba(n){var e=In(n);return function(t){return zs(t,n,e)}}function zs(n,e,t){var u=t.length;if(n==null)return!u;for(n=fn(n);u--;){var s=t[u],f=e[s],h=n[s];if(h===i&&!(s in n)||!f(h))return!1}return!0}function Ys(n,e,t){if(typeof n!="function")throw new re(_);return kt(function(){n.apply(i,t)},e)}function Ht(n,e,t,u){var s=-1,f=ar,h=!0,d=n.length,g=[],C=e.length;if(!d)return g;t&&(e=hn(e,zn(t))),u?(f=Ci,h=!1):e.length>=l&&(f=Lt,h=!1,e=new je(e));n:for(;++s<d;){var S=n[s],O=t==null?S:t(S);if(S=u||S!==0?S:0,h&&O===O){for(var b=C;b--;)if(e[b]===O)continue n;g.push(S)}else f(e,O,u)||g.push(S)}return g}var Ue=Ao(xe),Xs=Ao($i,!0);function Ta(n,e){var t=!0;return Ue(n,function(u,s,f){return t=!!e(u,s,f),t}),t}function Nr(n,e,t){for(var u=-1,s=n.length;++u<s;){var f=n[u],h=e(f);if(h!=null&&(d===i?h===h&&!Xn(h):t(h,d)))var d=h,g=f}return g}function Ra(n,e,t,u){var s=n.length;for(t=U(t),t<0&&(t=-t>s?0:s+t),u=u===i||u>s?s:U(u),u<0&&(u+=s),u=t>u?0:pf(u);t<u;)n[t++]=e;return n}function Zs(n,e){var t=[];return Ue(n,function(u,s,f){e(u,s,f)&&t.push(u)}),t}function Nn(n,e,t,u,s){var f=-1,h=n.length;for(t||(t=yh),s||(s=[]);++f<h;){var d=n[f];e>0&&t(d)?e>1?Nn(d,e-1,t,u,s):$e(s,d):u||(s[s.length]=d)}return s}var Di=Co(),Qs=Co(!0);function xe(n,e){return n&&Di(n,e,In)}function $i(n,e){return n&&Qs(n,e,In)}function br(n,e){return De(e,function(t){return Me(n[t])})}function nt(n,e){e=Ke(e,n);for(var t=0,u=e.length;n!=null&&t<u;)n=n[Ce(e[t++])];return t&&t==u?n:i}function js(n,e,t){var u=e(n);return F(n)?u:$e(u,t(n))}function Gn(n){return n==null?n===i?ol:An:Ze&&Ze in fn(n)?ph(n):Oh(n)}function Hi(n,e){return n>e}function La(n,e){return n!=null&&tn.call(n,e)}function Ma(n,e){return n!=null&&e in fn(n)}function Ga(n,e,t){return n>=Tn(e,t)&&n<Sn(e,t)}function Fi(n,e,t){for(var u=t?Ci:ar,s=n[0].length,f=n.length,h=f,d=m(f),g=1/0,C=[];h--;){var S=n[h];h&&e&&(S=hn(S,zn(e))),g=Tn(S.length,g),d[h]=!t&&(e||s>=120&&S.length>=120)?new je(h&&S):i}S=n[0];var O=-1,b=d[0];n:for(;++O<s&&C.length<g;){var L=S[O],P=e?e(L):L;if(L=t||L!==0?L:0,!(b?Lt(b,P):u(C,P,t))){for(h=f;--h;){var J=d[h];if(!(J?Lt(J,P):u(n[h],P,t)))continue n}b&&b.push(P),C.push(L)}}return C}function Ba(n,e,t,u){return xe(n,function(s,f,h){e(u,t(s),f,h)}),u}function Ft(n,e,t){e=Ke(e,n),n=Ho(n,e);var u=n==null?n:n[Ce(oe(e))];return u==null?i:kn(u,n,t)}function Vs(n){return wn(n)&&Gn(n)==pn}function Pa(n){return wn(n)&&Gn(n)==Rt}function Da(n){return wn(n)&&Gn(n)==k}function Ut(n,e,t,u,s){return n===e?!0:n==null||e==null||!wn(n)&&!wn(e)?n!==n&&e!==e:$a(n,e,t,u,Ut,s)}function $a(n,e,t,u,s,f){var h=F(n),d=F(e),g=h?an:Rn(n),C=d?an:Rn(e);g=g==pn?Oe:g,C=C==pn?Oe:C;var S=g==Oe,O=C==Oe,b=g==C;if(b&&ke(n)){if(!ke(e))return!1;h=!0,S=!1}if(b&&!S)return f||(f=new pe),h||xt(n)?Lo(n,e,t,u,s,f):hh(n,e,g,t,u,s,f);if(!(t&M)){var L=S&&tn.call(n,"__wrapped__"),P=O&&tn.call(e,"__wrapped__");if(L||P){var J=L?n.value():n,D=P?e.value():e;return f||(f=new pe),s(J,D,t,u,f)}}return b?(f||(f=new pe),dh(n,e,t,u,s,f)):!1}function Ha(n){return wn(n)&&Rn(n)==En}function Ui(n,e,t,u){var s=t.length,f=s,h=!u;if(n==null)return!f;for(n=fn(n);s--;){var d=t[s];if(h&&d[2]?d[1]!==n[d[0]]:!(d[0]in n))return!1}for(;++s<f;){d=t[s];var g=d[0],C=n[g],S=d[1];if(h&&d[2]){if(C===i&&!(g in n))return!1}else{var O=new pe;if(u)var b=u(C,S,g,n,e,O);if(!(b===i?Ut(S,C,M|$,u,O):b))return!1}}return!0}function no(n){if(!vn(n)||Ah(n))return!1;var e=Me(n)?Hc:bl;return e.test(tt(n))}function Fa(n){return wn(n)&&Gn(n)==Nt}function Ua(n){return wn(n)&&Rn(n)==he}function Ja(n){return wn(n)&&zr(n.length)&&!!cn[Gn(n)]}function eo(n){return typeof n=="function"?n:n==null?Kn:typeof n=="object"?F(n)?io(n[0],n[1]):ro(n):Ef(n)}function Ji(n){if(!qt(n))return kc(n);var e=[];for(var t in fn(n))tn.call(n,t)&&t!="constructor"&&e.push(t);return e}function Ka(n){if(!vn(n))return Ih(n);var e=qt(n),t=[];for(var u in n)u=="constructor"&&(e||!tn.call(n,u))||t.push(u);return t}function Ki(n,e){return n<e}function to(n,e){var t=-1,u=Un(n)?m(n.length):[];return Ue(n,function(s,f,h){u[++t]=e(s,f,h)}),u}function ro(n){var e=uu(n);return e.length==1&&e[0][2]?Do(e[0][0],e[0][1]):function(t){return t===n||Ui(t,n,e)}}function io(n,e){return ou(n)&&Po(e)?Do(Ce(n),e):function(t){var u=vu(t,n);return u===i&&u===e?wu(t,n):Ut(e,u,M|$)}}function Tr(n,e,t,u,s){n!==e&&Di(e,function(f,h){if(s||(s=new pe),vn(f))qa(n,e,h,t,Tr,u,s);else{var d=u?u(lu(n,h),f,h+"",n,e,s):i;d===i&&(d=f),Bi(n,h,d)}},Jn)}function qa(n,e,t,u,s,f,h){var d=lu(n,t),g=lu(e,t),C=h.get(g);if(C){Bi(n,t,C);return}var S=f?f(d,g,t+"",n,e,h):i,O=S===i;if(O){var b=F(g),L=!b&&ke(g),P=!b&&!L&&xt(g);S=g,b||L||P?F(d)?S=d:mn(d)?S=Fn(d):L?(O=!1,S=vo(g,!0)):P?(O=!1,S=wo(g,!0)):S=[]:zt(g)||rt(g)?(S=d,rt(d)?S=gf(d):(!vn(d)||Me(d))&&(S=Bo(g))):O=!1}O&&(h.set(g,S),s(S,g,u,f,h),h.delete(g)),Bi(n,t,S)}function uo(n,e){var t=n.length;if(t)return e+=e<0?t:0,Le(e,t)?n[e]:i}function so(n,e,t){e.length?e=hn(e,function(f){return F(f)?function(h){return nt(h,f.length===1?f[0]:f)}:f}):e=[Kn];var u=-1;e=hn(e,zn(B()));var s=to(n,function(f,h,d){var g=hn(e,function(C){return C(f)});return{criteria:g,index:++u,value:f}});return wc(s,function(f,h){return ih(f,h,t)})}function ka(n,e){return oo(n,e,function(t,u){return wu(n,u)})}function oo(n,e,t){for(var u=-1,s=e.length,f={};++u<s;){var h=e[u],d=nt(n,h);t(d,h)&&Jt(f,Ke(h,n),d)}return f}function za(n){return function(e){return nt(e,n)}}function qi(n,e,t,u){var s=u?vc:ct,f=-1,h=e.length,d=n;for(n===e&&(e=Fn(e)),t&&(d=hn(n,zn(t)));++f<h;)for(var g=0,C=e[f],S=t?t(C):C;(g=s(d,S,g,u))>-1;)d!==n&&xr.call(d,g,1),xr.call(n,g,1);return n}function fo(n,e){for(var t=n?e.length:0,u=t-1;t--;){var s=e[t];if(t==u||s!==f){var f=s;Le(s)?xr.call(n,s,1):Xi(n,s)}}return n}function ki(n,e){return n+Sr(Us()*(e-n+1))}function Ya(n,e,t,u){for(var s=-1,f=Sn(Cr((e-n)/(t||1)),0),h=m(f);f--;)h[u?f:++s]=n,n+=t;return h}function zi(n,e){var t="";if(!n||e<1||e>ye)return t;do e%2&&(t+=n),e=Sr(e/2),e&&(n+=n);while(e);return t}function q(n,e){return cu($o(n,e,Kn),n+"")}function Xa(n){return qs(At(n))}function Za(n,e){var t=At(n);return Fr(t,Ve(e,0,t.length))}function Jt(n,e,t,u){if(!vn(n))return n;e=Ke(e,n);for(var s=-1,f=e.length,h=f-1,d=n;d!=null&&++s<f;){var g=Ce(e[s]),C=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return n;if(s!=h){var S=d[g];C=u?u(S,g,d):i,C===i&&(C=vn(S)?S:Le(e[s+1])?[]:{})}$t(d,g,C),d=d[g]}return n}var lo=Er?function(n,e){return Er.set(n,e),n}:Kn,Qa=Ar?function(n,e){return Ar(n,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:Kn;function ja(n){return Fr(At(n))}function se(n,e,t){var u=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var f=m(s);++u<s;)f[u]=n[u+e];return f}function Va(n,e){var t;return Ue(n,function(u,s,f){return t=e(u,s,f),!t}),!!t}function Rr(n,e,t){var u=0,s=n==null?u:n.length;if(typeof e=="number"&&e===e&&s<=Z){for(;u<s;){var f=u+s>>>1,h=n[f];h!==null&&!Xn(h)&&(t?h<=e:h<e)?u=f+1:s=f}return s}return Yi(n,e,Kn,t)}function Yi(n,e,t,u){var s=0,f=n==null?0:n.length;if(f===0)return 0;e=t(e);for(var h=e!==e,d=e===null,g=Xn(e),C=e===i;s<f;){var S=Sr((s+f)/2),O=t(n[S]),b=O!==i,L=O===null,P=O===O,J=Xn(O);if(h)var D=u||P;else C?D=P&&(u||b):d?D=P&&b&&(u||!L):g?D=P&&b&&!L&&(u||!J):L||J?D=!1:D=u?O<=e:O<e;D?s=S+1:f=S}return Tn(f,K)}function co(n,e){for(var t=-1,u=n.length,s=0,f=[];++t<u;){var h=n[t],d=e?e(h):h;if(!t||!ge(d,g)){var g=d;f[s++]=h===0?0:h}}return f}function ao(n){return typeof n=="number"?n:Xn(n)?G:+n}function Yn(n){if(typeof n=="string")return n;if(F(n))return hn(n,Yn)+"";if(Xn(n))return Js?Js.call(n):"";var e=n+"";return e=="0"&&1/n==-Ee?"-0":e}function Je(n,e,t){var u=-1,s=ar,f=n.length,h=!0,d=[],g=d;if(t)h=!1,s=Ci;else if(f>=l){var C=e?null:ch(n);if(C)return dr(C);h=!1,s=Lt,g=new je}else g=e?[]:d;n:for(;++u<f;){var S=n[u],O=e?e(S):S;if(S=t||S!==0?S:0,h&&O===O){for(var b=g.length;b--;)if(g[b]===O)continue n;e&&g.push(O),d.push(S)}else s(g,O,t)||(g!==d&&g.push(O),d.push(S))}return d}function Xi(n,e){return e=Ke(e,n),n=Ho(n,e),n==null||delete n[Ce(oe(e))]}function ho(n,e,t,u){return Jt(n,e,t(nt(n,e)),u)}function Lr(n,e,t,u){for(var s=n.length,f=u?s:-1;(u?f--:++f<s)&&e(n[f],f,n););return t?se(n,u?0:f,u?f+1:s):se(n,u?f+1:0,u?s:f)}function po(n,e){var t=n;return t instanceof Y&&(t=t.value()),Si(e,function(u,s){return s.func.apply(s.thisArg,$e([u],s.args))},t)}function Zi(n,e,t){var u=n.length;if(u<2)return u?Je(n[0]):[];for(var s=-1,f=m(u);++s<u;)for(var h=n[s],d=-1;++d<u;)d!=s&&(f[s]=Ht(f[s]||h,n[d],e,t));return Je(Nn(f,1),e,t)}function go(n,e,t){for(var u=-1,s=n.length,f=e.length,h={};++u<s;){var d=u<f?e[u]:i;t(h,n[u],d)}return h}function Qi(n){return mn(n)?n:[]}function ji(n){return typeof n=="function"?n:Kn}function Ke(n,e){return F(n)?n:ou(n,e)?[n]:Ko(en(n))}var nh=q;function qe(n,e,t){var u=n.length;return t=t===i?u:t,!e&&t>=u?n:se(n,e,t)}var _o=Fc||function(n){return Wn.clearTimeout(n)};function vo(n,e){if(e)return n.slice();var t=n.length,u=Ps?Ps(t):new n.constructor(t);return n.copy(u),u}function Vi(n){var e=new n.constructor(n.byteLength);return new mr(e).set(new mr(n)),e}function eh(n,e){var t=e?Vi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function th(n){var e=new n.constructor(n.source,Vu.exec(n));return e.lastIndex=n.lastIndex,e}function rh(n){return Dt?fn(Dt.call(n)):{}}function wo(n,e){var t=e?Vi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function mo(n,e){if(n!==e){var t=n!==i,u=n===null,s=n===n,f=Xn(n),h=e!==i,d=e===null,g=e===e,C=Xn(e);if(!d&&!C&&!f&&n>e||f&&h&&g&&!d&&!C||u&&h&&g||!t&&g||!s)return 1;if(!u&&!f&&!C&&n<e||C&&t&&s&&!u&&!f||d&&t&&s||!h&&s||!g)return-1}return 0}function ih(n,e,t){for(var u=-1,s=n.criteria,f=e.criteria,h=s.length,d=t.length;++u<h;){var g=mo(s[u],f[u]);if(g){if(u>=d)return g;var C=t[u];return g*(C=="desc"?-1:1)}}return n.index-e.index}function yo(n,e,t,u){for(var s=-1,f=n.length,h=t.length,d=-1,g=e.length,C=Sn(f-h,0),S=m(g+C),O=!u;++d<g;)S[d]=e[d];for(;++s<h;)(O||s<f)&&(S[t[s]]=n[s]);for(;C--;)S[d++]=n[s++];return S}function xo(n,e,t,u){for(var s=-1,f=n.length,h=-1,d=t.length,g=-1,C=e.length,S=Sn(f-d,0),O=m(S+C),b=!u;++s<S;)O[s]=n[s];for(var L=s;++g<C;)O[L+g]=e[g];for(;++h<d;)(b||s<f)&&(O[L+t[h]]=n[s++]);return O}function Fn(n,e){var t=-1,u=n.length;for(e||(e=m(u));++t<u;)e[t]=n[t];return e}function Ae(n,e,t,u){var s=!t;t||(t={});for(var f=-1,h=e.length;++f<h;){var d=e[f],g=u?u(t[d],n[d],d,t,n):i;g===i&&(g=n[d]),s?be(t,d,g):$t(t,d,g)}return t}function uh(n,e){return Ae(n,su(n),e)}function sh(n,e){return Ae(n,Mo(n),e)}function Mr(n,e){return function(t,u){var s=F(t)?ac:Wa,f=e?e():{};return s(t,n,B(u,2),f)}}function wt(n){return q(function(e,t){var u=-1,s=t.length,f=s>1?t[s-1]:i,h=s>2?t[2]:i;for(f=n.length>3&&typeof f=="function"?(s--,f):i,h&&Bn(t[0],t[1],h)&&(f=s<3?i:f,s=1),e=fn(e);++u<s;){var d=t[u];d&&n(e,d,u,f)}return e})}function Ao(n,e){return function(t,u){if(t==null)return t;if(!Un(t))return n(t,u);for(var s=t.length,f=e?s:-1,h=fn(t);(e?f--:++f<s)&&u(h[f],f,h)!==!1;);return t}}function Co(n){return function(e,t,u){for(var s=-1,f=fn(e),h=u(e),d=h.length;d--;){var g=h[n?d:++s];if(t(f[g],g,f)===!1)break}return e}}function oh(n,e,t){var u=e&on,s=Kt(n);function f(){var h=this&&this!==Wn&&this instanceof f?s:n;return h.apply(u?t:this,arguments)}return f}function So(n){return function(e){e=en(e);var t=at(e)?de(e):i,u=t?t[0]:e.charAt(0),s=t?qe(t,1).join(""):e.slice(1);return u[n]()+s}}function mt(n){return function(e){return Si(Cf(Af(e).replace(Ql,"")),n,"")}}function Kt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=vt(n.prototype),u=n.apply(t,e);return vn(u)?u:t}}function fh(n,e,t){var u=Kt(n);function s(){for(var f=arguments.length,h=m(f),d=f,g=yt(s);d--;)h[d]=arguments[d];var C=f<3&&h[0]!==g&&h[f-1]!==g?[]:He(h,g);if(f-=C.length,f<t)return No(n,e,Gr,s.placeholder,i,h,C,i,i,t-f);var S=this&&this!==Wn&&this instanceof s?u:n;return kn(S,this,h)}return s}function Eo(n){return function(e,t,u){var s=fn(e);if(!Un(e)){var f=B(t,3);e=In(e),t=function(d){return f(s[d],d,s)}}var h=n(e,t,u);return h>-1?s[f?e[h]:h]:i}}function Io(n){return Re(function(e){var t=e.length,u=t,s=ie.prototype.thru;for(n&&e.reverse();u--;){var f=e[u];if(typeof f!="function")throw new re(_);if(s&&!h&&$r(f)=="wrapper")var h=new ie([],!0)}for(u=h?u:t;++u<t;){f=e[u];var d=$r(f),g=d=="wrapper"?iu(f):i;g&&fu(g[0])&&g[1]==(bn|On|dn|ae)&&!g[4].length&&g[9]==1?h=h[$r(g[0])].apply(h,g[3]):h=f.length==1&&fu(f)?h[d]():h.thru(f)}return function(){var C=arguments,S=C[0];if(h&&C.length==1&&F(S))return h.plant(S).value();for(var O=0,b=t?e[O].apply(this,C):S;++O<t;)b=e[O].call(this,b);return b}})}function Gr(n,e,t,u,s,f,h,d,g,C){var S=e&bn,O=e&on,b=e&un,L=e&(On|Mn),P=e&me,J=b?i:Kt(n);function D(){for(var z=arguments.length,X=m(z),Zn=z;Zn--;)X[Zn]=arguments[Zn];if(L)var Pn=yt(D),Qn=yc(X,Pn);if(u&&(X=yo(X,u,s,L)),f&&(X=xo(X,f,h,L)),z-=Qn,L&&z<C){var yn=He(X,Pn);return No(n,e,Gr,D.placeholder,t,X,yn,d,g,C-z)}var _e=O?t:this,Be=b?_e[n]:n;return z=X.length,d?X=Wh(X,d):P&&z>1&&X.reverse(),S&&g<z&&(X.length=g),this&&this!==Wn&&this instanceof D&&(Be=J||Kt(Be)),Be.apply(_e,X)}return D}function Oo(n,e){return function(t,u){return Ba(t,n,e(u),{})}}function Br(n,e){return function(t,u){var s;if(t===i&&u===i)return e;if(t!==i&&(s=t),u!==i){if(s===i)return u;typeof t=="string"||typeof u=="string"?(t=Yn(t),u=Yn(u)):(t=ao(t),u=ao(u)),s=n(t,u)}return s}}function nu(n){return Re(function(e){return e=hn(e,zn(B())),q(function(t){var u=this;return n(e,function(s){return kn(s,u,t)})})})}function Pr(n,e){e=e===i?" ":Yn(e);var t=e.length;if(t<2)return t?zi(e,n):e;var u=zi(e,Cr(n/ht(e)));return at(e)?qe(de(u),0,n).join(""):u.slice(0,n)}function lh(n,e,t,u){var s=e&on,f=Kt(n);function h(){for(var d=-1,g=arguments.length,C=-1,S=u.length,O=m(S+g),b=this&&this!==Wn&&this instanceof h?f:n;++C<S;)O[C]=u[C];for(;g--;)O[C++]=arguments[++d];return kn(b,s?t:this,O)}return h}function Wo(n){return function(e,t,u){return u&&typeof u!="number"&&Bn(e,t,u)&&(t=u=i),e=Ge(e),t===i?(t=e,e=0):t=Ge(t),u=u===i?e<t?1:-1:Ge(u),Ya(e,t,u,n)}}function Dr(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=fe(e),t=fe(t)),n(e,t)}}function No(n,e,t,u,s,f,h,d,g,C){var S=e&On,O=S?h:i,b=S?i:h,L=S?f:i,P=S?i:f;e|=S?dn:ne,e&=~(S?ne:dn),e&Ln||(e&=~(on|un));var J=[n,e,s,L,O,P,b,d,g,C],D=t.apply(i,J);return fu(n)&&Fo(D,J),D.placeholder=u,Uo(D,n,e)}function eu(n){var e=Cn[n];return function(t,u){if(t=fe(t),u=u==null?0:Tn(U(u),292),u&&Fs(t)){var s=(en(t)+"e").split("e"),f=e(s[0]+"e"+(+s[1]+u));return s=(en(f)+"e").split("e"),+(s[0]+"e"+(+s[1]-u))}return e(t)}}var ch=gt&&1/dr(new gt([,-0]))[1]==Ee?function(n){return new gt(n)}:Cu;function bo(n){return function(e){var t=Rn(e);return t==En?Ti(e):t==he?Oc(e):mc(e,n(e))}}function Te(n,e,t,u,s,f,h,d){var g=e&un;if(!g&&typeof n!="function")throw new re(_);var C=u?u.length:0;if(C||(e&=~(dn|ne),u=s=i),h=h===i?h:Sn(U(h),0),d=d===i?d:U(d),C-=s?s.length:0,e&ne){var S=u,O=s;u=s=i}var b=g?i:iu(n),L=[n,e,t,u,s,S,O,f,h,d];if(b&&Eh(L,b),n=L[0],e=L[1],t=L[2],u=L[3],s=L[4],d=L[9]=L[9]===i?g?0:n.length:Sn(L[9]-C,0),!d&&e&(On|Mn)&&(e&=~(On|Mn)),!e||e==on)var P=oh(n,e,t);else e==On||e==Mn?P=fh(n,e,d):(e==dn||e==(on|dn))&&!s.length?P=lh(n,e,t,u):P=Gr.apply(i,L);var J=b?lo:Fo;return Uo(J(P,L),n,e)}function To(n,e,t,u){return n===i||ge(n,pt[t])&&!tn.call(u,t)?e:n}function Ro(n,e,t,u,s,f){return vn(n)&&vn(e)&&(f.set(e,n),Tr(n,e,i,Ro,f),f.delete(e)),n}function ah(n){return zt(n)?i:n}function Lo(n,e,t,u,s,f){var h=t&M,d=n.length,g=e.length;if(d!=g&&!(h&&g>d))return!1;var C=f.get(n),S=f.get(e);if(C&&S)return C==e&&S==n;var O=-1,b=!0,L=t&$?new je:i;for(f.set(n,e),f.set(e,n);++O<d;){var P=n[O],J=e[O];if(u)var D=h?u(J,P,O,e,n,f):u(P,J,O,n,e,f);if(D!==i){if(D)continue;b=!1;break}if(L){if(!Ei(e,function(z,X){if(!Lt(L,X)&&(P===z||s(P,z,t,u,f)))return L.push(X)})){b=!1;break}}else if(!(P===J||s(P,J,t,u,f))){b=!1;break}}return f.delete(n),f.delete(e),b}function hh(n,e,t,u,s,f,h){switch(t){case ft:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Rt:return!(n.byteLength!=e.byteLength||!f(new mr(n),new mr(e)));case nn:case k:case Hn:return ge(+n,+e);case _n:return n.name==e.name&&n.message==e.message;case Nt:case bt:return n==e+"";case En:var d=Ti;case he:var g=u&M;if(d||(d=dr),n.size!=e.size&&!g)return!1;var C=h.get(n);if(C)return C==e;u|=$,h.set(n,e);var S=Lo(d(n),d(e),u,s,f,h);return h.delete(n),S;case or:if(Dt)return Dt.call(n)==Dt.call(e)}return!1}function dh(n,e,t,u,s,f){var h=t&M,d=tu(n),g=d.length,C=tu(e),S=C.length;if(g!=S&&!h)return!1;for(var O=g;O--;){var b=d[O];if(!(h?b in e:tn.call(e,b)))return!1}var L=f.get(n),P=f.get(e);if(L&&P)return L==e&&P==n;var J=!0;f.set(n,e),f.set(e,n);for(var D=h;++O<g;){b=d[O];var z=n[b],X=e[b];if(u)var Zn=h?u(X,z,b,e,n,f):u(z,X,b,n,e,f);if(!(Zn===i?z===X||s(z,X,t,u,f):Zn)){J=!1;break}D||(D=b=="constructor")}if(J&&!D){var Pn=n.constructor,Qn=e.constructor;Pn!=Qn&&"constructor"in n&&"constructor"in e&&!(typeof Pn=="function"&&Pn instanceof Pn&&typeof Qn=="function"&&Qn instanceof Qn)&&(J=!1)}return f.delete(n),f.delete(e),J}function Re(n){return cu($o(n,i,Yo),n+"")}function tu(n){return js(n,In,su)}function ru(n){return js(n,Jn,Mo)}var iu=Er?function(n){return Er.get(n)}:Cu;function $r(n){for(var e=n.name+"",t=_t[e],u=tn.call(_t,e)?t.length:0;u--;){var s=t[u],f=s.func;if(f==null||f==n)return s.name}return e}function yt(n){var e=tn.call(o,"placeholder")?o:n;return e.placeholder}function B(){var n=o.iteratee||xu;return n=n===xu?eo:n,arguments.length?n(arguments[0],arguments[1]):n}function Hr(n,e){var t=n.__data__;return xh(e)?t[typeof e=="string"?"string":"hash"]:t.map}function uu(n){for(var e=In(n),t=e.length;t--;){var u=e[t],s=n[u];e[t]=[u,s,Po(s)]}return e}function et(n,e){var t=Sc(n,e);return no(t)?t:i}function ph(n){var e=tn.call(n,Ze),t=n[Ze];try{n[Ze]=i;var u=!0}catch{}var s=vr.call(n);return u&&(e?n[Ze]=t:delete n[Ze]),s}var su=Li?function(n){return n==null?[]:(n=fn(n),De(Li(n),function(e){return $s.call(n,e)}))}:Su,Mo=Li?function(n){for(var e=[];n;)$e(e,su(n)),n=yr(n);return e}:Su,Rn=Gn;(Mi&&Rn(new Mi(new ArrayBuffer(1)))!=ft||Gt&&Rn(new Gt)!=En||Gi&&Rn(Gi.resolve())!=Xu||gt&&Rn(new gt)!=he||Bt&&Rn(new Bt)!=Tt)&&(Rn=function(n){var e=Gn(n),t=e==Oe?n.constructor:i,u=t?tt(t):"";if(u)switch(u){case Zc:return ft;case Qc:return En;case jc:return Xu;case Vc:return he;case na:return Tt}return e});function gh(n,e,t){for(var u=-1,s=t.length;++u<s;){var f=t[u],h=f.size;switch(f.type){case"drop":n+=h;break;case"dropRight":e-=h;break;case"take":e=Tn(e,n+h);break;case"takeRight":n=Sn(n,e-h);break}}return{start:n,end:e}}function _h(n){var e=n.match(Al);return e?e[1].split(Cl):[]}function Go(n,e,t){e=Ke(e,n);for(var u=-1,s=e.length,f=!1;++u<s;){var h=Ce(e[u]);if(!(f=n!=null&&t(n,h)))break;n=n[h]}return f||++u!=s?f:(s=n==null?0:n.length,!!s&&zr(s)&&Le(h,s)&&(F(n)||rt(n)))}function vh(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&tn.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function Bo(n){return typeof n.constructor=="function"&&!qt(n)?vt(yr(n)):{}}function wh(n,e,t){var u=n.constructor;switch(e){case Rt:return Vi(n);case nn:case k:return new u(+n);case ft:return eh(n,t);case ui:case si:case oi:case fi:case li:case ci:case ai:case hi:case di:return wo(n,t);case En:return new u;case Hn:case bt:return new u(n);case Nt:return th(n);case he:return new u;case or:return rh(n)}}function mh(n,e){var t=e.length;if(!t)return n;var u=t-1;return e[u]=(t>1?"& ":"")+e[u],e=e.join(t>2?", ":" "),n.replace(xl,`{
/* [wrapped with `+e+`] */
`)}function yh(n){return F(n)||rt(n)||!!(Hs&&n&&n[Hs])}function Le(n,e){var t=typeof n;return e=e??ye,!!e&&(t=="number"||t!="symbol"&&Rl.test(n))&&n>-1&&n%1==0&&n<e}function Bn(n,e,t){if(!vn(t))return!1;var u=typeof e;return(u=="number"?Un(t)&&Le(e,t.length):u=="string"&&e in t)?ge(t[e],n):!1}function ou(n,e){if(F(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Xn(n)?!0:vl.test(n)||!_l.test(n)||e!=null&&n in fn(e)}function xh(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function fu(n){var e=$r(n),t=o[e];if(typeof t!="function"||!(e in Y.prototype))return!1;if(n===t)return!0;var u=iu(t);return!!u&&n===u[0]}function Ah(n){return!!Bs&&Bs in n}var Ch=gr?Me:Eu;function qt(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||pt;return n===t}function Po(n){return n===n&&!vn(n)}function Do(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==i||n in fn(t))}}function Sh(n){var e=qr(n,function(u){return t.size===E&&t.clear(),u}),t=e.cache;return e}function Eh(n,e){var t=n[1],u=e[1],s=t|u,f=s<(on|un|bn),h=u==bn&&t==On||u==bn&&t==ae&&n[7].length<=e[8]||u==(bn|ae)&&e[7].length<=e[8]&&t==On;if(!(f||h))return n;u&on&&(n[2]=e[2],s|=t&on?0:Ln);var d=e[3];if(d){var g=n[3];n[3]=g?yo(g,d,e[4]):d,n[4]=g?He(n[3],w):e[4]}return d=e[5],d&&(g=n[5],n[5]=g?xo(g,d,e[6]):d,n[6]=g?He(n[5],w):e[6]),d=e[7],d&&(n[7]=d),u&bn&&(n[8]=n[8]==null?e[8]:Tn(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=s,n}function Ih(n){var e=[];if(n!=null)for(var t in fn(n))e.push(t);return e}function Oh(n){return vr.call(n)}function $o(n,e,t){return e=Sn(e===i?n.length-1:e,0),function(){for(var u=arguments,s=-1,f=Sn(u.length-e,0),h=m(f);++s<f;)h[s]=u[e+s];s=-1;for(var d=m(e+1);++s<e;)d[s]=u[s];return d[e]=t(h),kn(n,this,d)}}function Ho(n,e){return e.length<2?n:nt(n,se(e,0,-1))}function Wh(n,e){for(var t=n.length,u=Tn(e.length,t),s=Fn(n);u--;){var f=e[u];n[u]=Le(f,t)?s[f]:i}return n}function lu(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var Fo=Jo(lo),kt=Jc||function(n,e){return Wn.setTimeout(n,e)},cu=Jo(Qa);function Uo(n,e,t){var u=e+"";return cu(n,mh(u,Nh(_h(u),t)))}function Jo(n){var e=0,t=0;return function(){var u=zc(),s=ri-(u-t);if(t=u,s>0){if(++e>=ir)return arguments[0]}else e=0;return n.apply(i,arguments)}}function Fr(n,e){var t=-1,u=n.length,s=u-1;for(e=e===i?u:e;++t<e;){var f=ki(t,s),h=n[f];n[f]=n[t],n[t]=h}return n.length=e,n}var Ko=Sh(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(wl,function(t,u,s,f){e.push(s?f.replace(Il,"$1"):u||t)}),e});function Ce(n){if(typeof n=="string"||Xn(n))return n;var e=n+"";return e=="0"&&1/n==-Ee?"-0":e}function tt(n){if(n!=null){try{return _r.call(n)}catch{}try{return n+""}catch{}}return""}function Nh(n,e){return te(Q,function(t){var u="_."+t[0];e&t[1]&&!ar(n,u)&&n.push(u)}),n.sort()}function qo(n){if(n instanceof Y)return n.clone();var e=new ie(n.__wrapped__,n.__chain__);return e.__actions__=Fn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function bh(n,e,t){(t?Bn(n,e,t):e===i)?e=1:e=Sn(U(e),0);var u=n==null?0:n.length;if(!u||e<1)return[];for(var s=0,f=0,h=m(Cr(u/e));s<u;)h[f++]=se(n,s,s+=e);return h}function Th(n){for(var e=-1,t=n==null?0:n.length,u=0,s=[];++e<t;){var f=n[e];f&&(s[u++]=f)}return s}function Rh(){var n=arguments.length;if(!n)return[];for(var e=m(n-1),t=arguments[0],u=n;u--;)e[u-1]=arguments[u];return $e(F(t)?Fn(t):[t],Nn(e,1))}var Lh=q(function(n,e){return mn(n)?Ht(n,Nn(e,1,mn,!0)):[]}),Mh=q(function(n,e){var t=oe(e);return mn(t)&&(t=i),mn(n)?Ht(n,Nn(e,1,mn,!0),B(t,2)):[]}),Gh=q(function(n,e){var t=oe(e);return mn(t)&&(t=i),mn(n)?Ht(n,Nn(e,1,mn,!0),i,t):[]});function Bh(n,e,t){var u=n==null?0:n.length;return u?(e=t||e===i?1:U(e),se(n,e<0?0:e,u)):[]}function Ph(n,e,t){var u=n==null?0:n.length;return u?(e=t||e===i?1:U(e),e=u-e,se(n,0,e<0?0:e)):[]}function Dh(n,e){return n&&n.length?Lr(n,B(e,3),!0,!0):[]}function $h(n,e){return n&&n.length?Lr(n,B(e,3),!0):[]}function Hh(n,e,t,u){var s=n==null?0:n.length;return s?(t&&typeof t!="number"&&Bn(n,e,t)&&(t=0,u=s),Ra(n,e,t,u)):[]}function ko(n,e,t){var u=n==null?0:n.length;if(!u)return-1;var s=t==null?0:U(t);return s<0&&(s=Sn(u+s,0)),hr(n,B(e,3),s)}function zo(n,e,t){var u=n==null?0:n.length;if(!u)return-1;var s=u-1;return t!==i&&(s=U(t),s=t<0?Sn(u+s,0):Tn(s,u-1)),hr(n,B(e,3),s,!0)}function Yo(n){var e=n==null?0:n.length;return e?Nn(n,1):[]}function Fh(n){var e=n==null?0:n.length;return e?Nn(n,Ee):[]}function Uh(n,e){var t=n==null?0:n.length;return t?(e=e===i?1:U(e),Nn(n,e)):[]}function Jh(n){for(var e=-1,t=n==null?0:n.length,u={};++e<t;){var s=n[e];u[s[0]]=s[1]}return u}function Xo(n){return n&&n.length?n[0]:i}function Kh(n,e,t){var u=n==null?0:n.length;if(!u)return-1;var s=t==null?0:U(t);return s<0&&(s=Sn(u+s,0)),ct(n,e,s)}function qh(n){var e=n==null?0:n.length;return e?se(n,0,-1):[]}var kh=q(function(n){var e=hn(n,Qi);return e.length&&e[0]===n[0]?Fi(e):[]}),zh=q(function(n){var e=oe(n),t=hn(n,Qi);return e===oe(t)?e=i:t.pop(),t.length&&t[0]===n[0]?Fi(t,B(e,2)):[]}),Yh=q(function(n){var e=oe(n),t=hn(n,Qi);return e=typeof e=="function"?e:i,e&&t.pop(),t.length&&t[0]===n[0]?Fi(t,i,e):[]});function Xh(n,e){return n==null?"":qc.call(n,e)}function oe(n){var e=n==null?0:n.length;return e?n[e-1]:i}function Zh(n,e,t){var u=n==null?0:n.length;if(!u)return-1;var s=u;return t!==i&&(s=U(t),s=s<0?Sn(u+s,0):Tn(s,u-1)),e===e?Nc(n,e,s):hr(n,Ws,s,!0)}function Qh(n,e){return n&&n.length?uo(n,U(e)):i}var jh=q(Zo);function Zo(n,e){return n&&n.length&&e&&e.length?qi(n,e):n}function Vh(n,e,t){return n&&n.length&&e&&e.length?qi(n,e,B(t,2)):n}function nd(n,e,t){return n&&n.length&&e&&e.length?qi(n,e,i,t):n}var ed=Re(function(n,e){var t=n==null?0:n.length,u=Pi(n,e);return fo(n,hn(e,function(s){return Le(s,t)?+s:s}).sort(mo)),u});function td(n,e){var t=[];if(!(n&&n.length))return t;var u=-1,s=[],f=n.length;for(e=B(e,3);++u<f;){var h=n[u];e(h,u,n)&&(t.push(h),s.push(u))}return fo(n,s),t}function au(n){return n==null?n:Xc.call(n)}function rd(n,e,t){var u=n==null?0:n.length;return u?(t&&typeof t!="number"&&Bn(n,e,t)?(e=0,t=u):(e=e==null?0:U(e),t=t===i?u:U(t)),se(n,e,t)):[]}function id(n,e){return Rr(n,e)}function ud(n,e,t){return Yi(n,e,B(t,2))}function sd(n,e){var t=n==null?0:n.length;if(t){var u=Rr(n,e);if(u<t&&ge(n[u],e))return u}return-1}function od(n,e){return Rr(n,e,!0)}function fd(n,e,t){return Yi(n,e,B(t,2),!0)}function ld(n,e){var t=n==null?0:n.length;if(t){var u=Rr(n,e,!0)-1;if(ge(n[u],e))return u}return-1}function cd(n){return n&&n.length?co(n):[]}function ad(n,e){return n&&n.length?co(n,B(e,2)):[]}function hd(n){var e=n==null?0:n.length;return e?se(n,1,e):[]}function dd(n,e,t){return n&&n.length?(e=t||e===i?1:U(e),se(n,0,e<0?0:e)):[]}function pd(n,e,t){var u=n==null?0:n.length;return u?(e=t||e===i?1:U(e),e=u-e,se(n,e<0?0:e,u)):[]}function gd(n,e){return n&&n.length?Lr(n,B(e,3),!1,!0):[]}function _d(n,e){return n&&n.length?Lr(n,B(e,3)):[]}var vd=q(function(n){return Je(Nn(n,1,mn,!0))}),wd=q(function(n){var e=oe(n);return mn(e)&&(e=i),Je(Nn(n,1,mn,!0),B(e,2))}),md=q(function(n){var e=oe(n);return e=typeof e=="function"?e:i,Je(Nn(n,1,mn,!0),i,e)});function yd(n){return n&&n.length?Je(n):[]}function xd(n,e){return n&&n.length?Je(n,B(e,2)):[]}function Ad(n,e){return e=typeof e=="function"?e:i,n&&n.length?Je(n,i,e):[]}function hu(n){if(!(n&&n.length))return[];var e=0;return n=De(n,function(t){if(mn(t))return e=Sn(t.length,e),!0}),Ni(e,function(t){return hn(n,Ii(t))})}function Qo(n,e){if(!(n&&n.length))return[];var t=hu(n);return e==null?t:hn(t,function(u){return kn(e,i,u)})}var Cd=q(function(n,e){return mn(n)?Ht(n,e):[]}),Sd=q(function(n){return Zi(De(n,mn))}),Ed=q(function(n){var e=oe(n);return mn(e)&&(e=i),Zi(De(n,mn),B(e,2))}),Id=q(function(n){var e=oe(n);return e=typeof e=="function"?e:i,Zi(De(n,mn),i,e)}),Od=q(hu);function Wd(n,e){return go(n||[],e||[],$t)}function Nd(n,e){return go(n||[],e||[],Jt)}var bd=q(function(n){var e=n.length,t=e>1?n[e-1]:i;return t=typeof t=="function"?(n.pop(),t):i,Qo(n,t)});function jo(n){var e=o(n);return e.__chain__=!0,e}function Td(n,e){return e(n),n}function Ur(n,e){return e(n)}var Rd=Re(function(n){var e=n.length,t=e?n[0]:0,u=this.__wrapped__,s=function(f){return Pi(f,n)};return e>1||this.__actions__.length||!(u instanceof Y)||!Le(t)?this.thru(s):(u=u.slice(t,+t+(e?1:0)),u.__actions__.push({func:Ur,args:[s],thisArg:i}),new ie(u,this.__chain__).thru(function(f){return e&&!f.length&&f.push(i),f}))});function Ld(){return jo(this)}function Md(){return new ie(this.value(),this.__chain__)}function Gd(){this.__values__===i&&(this.__values__=df(this.value()));var n=this.__index__>=this.__values__.length,e=n?i:this.__values__[this.__index__++];return{done:n,value:e}}function Bd(){return this}function Pd(n){for(var e,t=this;t instanceof Or;){var u=qo(t);u.__index__=0,u.__values__=i,e?s.__wrapped__=u:e=u;var s=u;t=t.__wrapped__}return s.__wrapped__=n,e}function Dd(){var n=this.__wrapped__;if(n instanceof Y){var e=n;return this.__actions__.length&&(e=new Y(this)),e=e.reverse(),e.__actions__.push({func:Ur,args:[au],thisArg:i}),new ie(e,this.__chain__)}return this.thru(au)}function $d(){return po(this.__wrapped__,this.__actions__)}var Hd=Mr(function(n,e,t){tn.call(n,t)?++n[t]:be(n,t,1)});function Fd(n,e,t){var u=F(n)?Is:Ta;return t&&Bn(n,e,t)&&(e=i),u(n,B(e,3))}function Ud(n,e){var t=F(n)?De:Zs;return t(n,B(e,3))}var Jd=Eo(ko),Kd=Eo(zo);function qd(n,e){return Nn(Jr(n,e),1)}function kd(n,e){return Nn(Jr(n,e),Ee)}function zd(n,e,t){return t=t===i?1:U(t),Nn(Jr(n,e),t)}function Vo(n,e){var t=F(n)?te:Ue;return t(n,B(e,3))}function nf(n,e){var t=F(n)?hc:Xs;return t(n,B(e,3))}var Yd=Mr(function(n,e,t){tn.call(n,t)?n[t].push(e):be(n,t,[e])});function Xd(n,e,t,u){n=Un(n)?n:At(n),t=t&&!u?U(t):0;var s=n.length;return t<0&&(t=Sn(s+t,0)),Yr(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&ct(n,e,t)>-1}var Zd=q(function(n,e,t){var u=-1,s=typeof e=="function",f=Un(n)?m(n.length):[];return Ue(n,function(h){f[++u]=s?kn(e,h,t):Ft(h,e,t)}),f}),Qd=Mr(function(n,e,t){be(n,t,e)});function Jr(n,e){var t=F(n)?hn:to;return t(n,B(e,3))}function jd(n,e,t,u){return n==null?[]:(F(e)||(e=e==null?[]:[e]),t=u?i:t,F(t)||(t=t==null?[]:[t]),so(n,e,t))}var Vd=Mr(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function np(n,e,t){var u=F(n)?Si:bs,s=arguments.length<3;return u(n,B(e,4),t,s,Ue)}function ep(n,e,t){var u=F(n)?dc:bs,s=arguments.length<3;return u(n,B(e,4),t,s,Xs)}function tp(n,e){var t=F(n)?De:Zs;return t(n,kr(B(e,3)))}function rp(n){var e=F(n)?qs:Xa;return e(n)}function ip(n,e,t){(t?Bn(n,e,t):e===i)?e=1:e=U(e);var u=F(n)?Ia:Za;return u(n,e)}function up(n){var e=F(n)?Oa:ja;return e(n)}function sp(n){if(n==null)return 0;if(Un(n))return Yr(n)?ht(n):n.length;var e=Rn(n);return e==En||e==he?n.size:Ji(n).length}function op(n,e,t){var u=F(n)?Ei:Va;return t&&Bn(n,e,t)&&(e=i),u(n,B(e,3))}var fp=q(function(n,e){if(n==null)return[];var t=e.length;return t>1&&Bn(n,e[0],e[1])?e=[]:t>2&&Bn(e[0],e[1],e[2])&&(e=[e[0]]),so(n,Nn(e,1),[])}),Kr=Uc||function(){return Wn.Date.now()};function lp(n,e){if(typeof e!="function")throw new re(_);return n=U(n),function(){if(--n<1)return e.apply(this,arguments)}}function ef(n,e,t){return e=t?i:e,e=n&&e==null?n.length:e,Te(n,bn,i,i,i,i,e)}function tf(n,e){var t;if(typeof e!="function")throw new re(_);return n=U(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=i),t}}var du=q(function(n,e,t){var u=on;if(t.length){var s=He(t,yt(du));u|=dn}return Te(n,u,e,t,s)}),rf=q(function(n,e,t){var u=on|un;if(t.length){var s=He(t,yt(rf));u|=dn}return Te(e,u,n,t,s)});function uf(n,e,t){e=t?i:e;var u=Te(n,On,i,i,i,i,i,e);return u.placeholder=uf.placeholder,u}function sf(n,e,t){e=t?i:e;var u=Te(n,Mn,i,i,i,i,i,e);return u.placeholder=sf.placeholder,u}function of(n,e,t){var u,s,f,h,d,g,C=0,S=!1,O=!1,b=!0;if(typeof n!="function")throw new re(_);e=fe(e)||0,vn(t)&&(S=!!t.leading,O="maxWait"in t,f=O?Sn(fe(t.maxWait)||0,e):f,b="trailing"in t?!!t.trailing:b);function L(yn){var _e=u,Be=s;return u=s=i,C=yn,h=n.apply(Be,_e),h}function P(yn){return C=yn,d=kt(z,e),S?L(yn):h}function J(yn){var _e=yn-g,Be=yn-C,If=e-_e;return O?Tn(If,f-Be):If}function D(yn){var _e=yn-g,Be=yn-C;return g===i||_e>=e||_e<0||O&&Be>=f}function z(){var yn=Kr();if(D(yn))return X(yn);d=kt(z,J(yn))}function X(yn){return d=i,b&&u?L(yn):(u=s=i,h)}function Zn(){d!==i&&_o(d),C=0,u=g=s=d=i}function Pn(){return d===i?h:X(Kr())}function Qn(){var yn=Kr(),_e=D(yn);if(u=arguments,s=this,g=yn,_e){if(d===i)return P(g);if(O)return _o(d),d=kt(z,e),L(g)}return d===i&&(d=kt(z,e)),h}return Qn.cancel=Zn,Qn.flush=Pn,Qn}var cp=q(function(n,e){return Ys(n,1,e)}),ap=q(function(n,e,t){return Ys(n,fe(e)||0,t)});function hp(n){return Te(n,me)}function qr(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new re(_);var t=function(){var u=arguments,s=e?e.apply(this,u):u[0],f=t.cache;if(f.has(s))return f.get(s);var h=n.apply(this,u);return t.cache=f.set(s,h)||f,h};return t.cache=new(qr.Cache||Ne),t}qr.Cache=Ne;function kr(n){if(typeof n!="function")throw new re(_);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function dp(n){return tf(2,n)}var pp=nh(function(n,e){e=e.length==1&&F(e[0])?hn(e[0],zn(B())):hn(Nn(e,1),zn(B()));var t=e.length;return q(function(u){for(var s=-1,f=Tn(u.length,t);++s<f;)u[s]=e[s].call(this,u[s]);return kn(n,this,u)})}),pu=q(function(n,e){var t=He(e,yt(pu));return Te(n,dn,i,e,t)}),ff=q(function(n,e){var t=He(e,yt(ff));return Te(n,ne,i,e,t)}),gp=Re(function(n,e){return Te(n,ae,i,i,i,e)});function _p(n,e){if(typeof n!="function")throw new re(_);return e=e===i?e:U(e),q(n,e)}function vp(n,e){if(typeof n!="function")throw new re(_);return e=e==null?0:Sn(U(e),0),q(function(t){var u=t[e],s=qe(t,0,e);return u&&$e(s,u),kn(n,this,s)})}function wp(n,e,t){var u=!0,s=!0;if(typeof n!="function")throw new re(_);return vn(t)&&(u="leading"in t?!!t.leading:u,s="trailing"in t?!!t.trailing:s),of(n,e,{leading:u,maxWait:e,trailing:s})}function mp(n){return ef(n,1)}function yp(n,e){return pu(ji(e),n)}function xp(){if(!arguments.length)return[];var n=arguments[0];return F(n)?n:[n]}function Ap(n){return ue(n,I)}function Cp(n,e){return e=typeof e=="function"?e:i,ue(n,I,e)}function Sp(n){return ue(n,W|I)}function Ep(n,e){return e=typeof e=="function"?e:i,ue(n,W|I,e)}function Ip(n,e){return e==null||zs(n,e,In(e))}function ge(n,e){return n===e||n!==n&&e!==e}var Op=Dr(Hi),Wp=Dr(function(n,e){return n>=e}),rt=Vs(function(){return arguments}())?Vs:function(n){return wn(n)&&tn.call(n,"callee")&&!$s.call(n,"callee")},F=m.isArray,Np=ys?zn(ys):Pa;function Un(n){return n!=null&&zr(n.length)&&!Me(n)}function mn(n){return wn(n)&&Un(n)}function bp(n){return n===!0||n===!1||wn(n)&&Gn(n)==nn}var ke=Kc||Eu,Tp=xs?zn(xs):Da;function Rp(n){return wn(n)&&n.nodeType===1&&!zt(n)}function Lp(n){if(n==null)return!0;if(Un(n)&&(F(n)||typeof n=="string"||typeof n.splice=="function"||ke(n)||xt(n)||rt(n)))return!n.length;var e=Rn(n);if(e==En||e==he)return!n.size;if(qt(n))return!Ji(n).length;for(var t in n)if(tn.call(n,t))return!1;return!0}function Mp(n,e){return Ut(n,e)}function Gp(n,e,t){t=typeof t=="function"?t:i;var u=t?t(n,e):i;return u===i?Ut(n,e,i,t):!!u}function gu(n){if(!wn(n))return!1;var e=Gn(n);return e==_n||e==gn||typeof n.message=="string"&&typeof n.name=="string"&&!zt(n)}function Bp(n){return typeof n=="number"&&Fs(n)}function Me(n){if(!vn(n))return!1;var e=Gn(n);return e==Ie||e==qn||e==sn||e==sl}function lf(n){return typeof n=="number"&&n==U(n)}function zr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ye}function vn(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function wn(n){return n!=null&&typeof n=="object"}var cf=As?zn(As):Ha;function Pp(n,e){return n===e||Ui(n,e,uu(e))}function Dp(n,e,t){return t=typeof t=="function"?t:i,Ui(n,e,uu(e),t)}function $p(n){return af(n)&&n!=+n}function Hp(n){if(Ch(n))throw new H(v);return no(n)}function Fp(n){return n===null}function Up(n){return n==null}function af(n){return typeof n=="number"||wn(n)&&Gn(n)==Hn}function zt(n){if(!wn(n)||Gn(n)!=Oe)return!1;var e=yr(n);if(e===null)return!0;var t=tn.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&_r.call(t)==Dc}var _u=Cs?zn(Cs):Fa;function Jp(n){return lf(n)&&n>=-ye&&n<=ye}var hf=Ss?zn(Ss):Ua;function Yr(n){return typeof n=="string"||!F(n)&&wn(n)&&Gn(n)==bt}function Xn(n){return typeof n=="symbol"||wn(n)&&Gn(n)==or}var xt=Es?zn(Es):Ja;function Kp(n){return n===i}function qp(n){return wn(n)&&Rn(n)==Tt}function kp(n){return wn(n)&&Gn(n)==fl}var zp=Dr(Ki),Yp=Dr(function(n,e){return n<=e});function df(n){if(!n)return[];if(Un(n))return Yr(n)?de(n):Fn(n);if(Mt&&n[Mt])return Ic(n[Mt]());var e=Rn(n),t=e==En?Ti:e==he?dr:At;return t(n)}function Ge(n){if(!n)return n===0?n:0;if(n=fe(n),n===Ee||n===-Ee){var e=n<0?-1:1;return e*x}return n===n?n:0}function U(n){var e=Ge(n),t=e%1;return e===e?t?e-t:e:0}function pf(n){return n?Ve(U(n),0,j):0}function fe(n){if(typeof n=="number")return n;if(Xn(n))return G;if(vn(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=vn(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Ts(n);var t=Nl.test(n);return t||Tl.test(n)?lc(n.slice(2),t?2:8):Wl.test(n)?G:+n}function gf(n){return Ae(n,Jn(n))}function Xp(n){return n?Ve(U(n),-ye,ye):n===0?n:0}function en(n){return n==null?"":Yn(n)}var Zp=wt(function(n,e){if(qt(e)||Un(e)){Ae(e,In(e),n);return}for(var t in e)tn.call(e,t)&&$t(n,t,e[t])}),_f=wt(function(n,e){Ae(e,Jn(e),n)}),Xr=wt(function(n,e,t,u){Ae(e,Jn(e),n,u)}),Qp=wt(function(n,e,t,u){Ae(e,In(e),n,u)}),jp=Re(Pi);function Vp(n,e){var t=vt(n);return e==null?t:ks(t,e)}var ng=q(function(n,e){n=fn(n);var t=-1,u=e.length,s=u>2?e[2]:i;for(s&&Bn(e[0],e[1],s)&&(u=1);++t<u;)for(var f=e[t],h=Jn(f),d=-1,g=h.length;++d<g;){var C=h[d],S=n[C];(S===i||ge(S,pt[C])&&!tn.call(n,C))&&(n[C]=f[C])}return n}),eg=q(function(n){return n.push(i,Ro),kn(vf,i,n)});function tg(n,e){return Os(n,B(e,3),xe)}function rg(n,e){return Os(n,B(e,3),$i)}function ig(n,e){return n==null?n:Di(n,B(e,3),Jn)}function ug(n,e){return n==null?n:Qs(n,B(e,3),Jn)}function sg(n,e){return n&&xe(n,B(e,3))}function og(n,e){return n&&$i(n,B(e,3))}function fg(n){return n==null?[]:br(n,In(n))}function lg(n){return n==null?[]:br(n,Jn(n))}function vu(n,e,t){var u=n==null?i:nt(n,e);return u===i?t:u}function cg(n,e){return n!=null&&Go(n,e,La)}function wu(n,e){return n!=null&&Go(n,e,Ma)}var ag=Oo(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=vr.call(e)),n[e]=t},yu(Kn)),hg=Oo(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=vr.call(e)),tn.call(n,e)?n[e].push(t):n[e]=[t]},B),dg=q(Ft);function In(n){return Un(n)?Ks(n):Ji(n)}function Jn(n){return Un(n)?Ks(n,!0):Ka(n)}function pg(n,e){var t={};return e=B(e,3),xe(n,function(u,s,f){be(t,e(u,s,f),u)}),t}function gg(n,e){var t={};return e=B(e,3),xe(n,function(u,s,f){be(t,s,e(u,s,f))}),t}var _g=wt(function(n,e,t){Tr(n,e,t)}),vf=wt(function(n,e,t,u){Tr(n,e,t,u)}),vg=Re(function(n,e){var t={};if(n==null)return t;var u=!1;e=hn(e,function(f){return f=Ke(f,n),u||(u=f.length>1),f}),Ae(n,ru(n),t),u&&(t=ue(t,W|R|I,ah));for(var s=e.length;s--;)Xi(t,e[s]);return t});function wg(n,e){return wf(n,kr(B(e)))}var mg=Re(function(n,e){return n==null?{}:ka(n,e)});function wf(n,e){if(n==null)return{};var t=hn(ru(n),function(u){return[u]});return e=B(e),oo(n,t,function(u,s){return e(u,s[0])})}function yg(n,e,t){e=Ke(e,n);var u=-1,s=e.length;for(s||(s=1,n=i);++u<s;){var f=n==null?i:n[Ce(e[u])];f===i&&(u=s,f=t),n=Me(f)?f.call(n):f}return n}function xg(n,e,t){return n==null?n:Jt(n,e,t)}function Ag(n,e,t,u){return u=typeof u=="function"?u:i,n==null?n:Jt(n,e,t,u)}var mf=bo(In),yf=bo(Jn);function Cg(n,e,t){var u=F(n),s=u||ke(n)||xt(n);if(e=B(e,4),t==null){var f=n&&n.constructor;s?t=u?new f:[]:vn(n)?t=Me(f)?vt(yr(n)):{}:t={}}return(s?te:xe)(n,function(h,d,g){return e(t,h,d,g)}),t}function Sg(n,e){return n==null?!0:Xi(n,e)}function Eg(n,e,t){return n==null?n:ho(n,e,ji(t))}function Ig(n,e,t,u){return u=typeof u=="function"?u:i,n==null?n:ho(n,e,ji(t),u)}function At(n){return n==null?[]:bi(n,In(n))}function Og(n){return n==null?[]:bi(n,Jn(n))}function Wg(n,e,t){return t===i&&(t=e,e=i),t!==i&&(t=fe(t),t=t===t?t:0),e!==i&&(e=fe(e),e=e===e?e:0),Ve(fe(n),e,t)}function Ng(n,e,t){return e=Ge(e),t===i?(t=e,e=0):t=Ge(t),n=fe(n),Ga(n,e,t)}function bg(n,e,t){if(t&&typeof t!="boolean"&&Bn(n,e,t)&&(e=t=i),t===i&&(typeof e=="boolean"?(t=e,e=i):typeof n=="boolean"&&(t=n,n=i)),n===i&&e===i?(n=0,e=1):(n=Ge(n),e===i?(e=n,n=0):e=Ge(e)),n>e){var u=n;n=e,e=u}if(t||n%1||e%1){var s=Us();return Tn(n+s*(e-n+fc("1e-"+((s+"").length-1))),e)}return ki(n,e)}var Tg=mt(function(n,e,t){return e=e.toLowerCase(),n+(t?xf(e):e)});function xf(n){return mu(en(n).toLowerCase())}function Af(n){return n=en(n),n&&n.replace(Ll,xc).replace(jl,"")}function Rg(n,e,t){n=en(n),e=Yn(e);var u=n.length;t=t===i?u:Ve(U(t),0,u);var s=t;return t-=e.length,t>=0&&n.slice(t,s)==e}function Lg(n){return n=en(n),n&&dl.test(n)?n.replace(Qu,Ac):n}function Mg(n){return n=en(n),n&&ml.test(n)?n.replace(pi,"\\$&"):n}var Gg=mt(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),Bg=mt(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),Pg=So("toLowerCase");function Dg(n,e,t){n=en(n),e=U(e);var u=e?ht(n):0;if(!e||u>=e)return n;var s=(e-u)/2;return Pr(Sr(s),t)+n+Pr(Cr(s),t)}function $g(n,e,t){n=en(n),e=U(e);var u=e?ht(n):0;return e&&u<e?n+Pr(e-u,t):n}function Hg(n,e,t){n=en(n),e=U(e);var u=e?ht(n):0;return e&&u<e?Pr(e-u,t)+n:n}function Fg(n,e,t){return t||e==null?e=0:e&&(e=+e),Yc(en(n).replace(gi,""),e||0)}function Ug(n,e,t){return(t?Bn(n,e,t):e===i)?e=1:e=U(e),zi(en(n),e)}function Jg(){var n=arguments,e=en(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var Kg=mt(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function qg(n,e,t){return t&&typeof t!="number"&&Bn(n,e,t)&&(e=t=i),t=t===i?j:t>>>0,t?(n=en(n),n&&(typeof e=="string"||e!=null&&!_u(e))&&(e=Yn(e),!e&&at(n))?qe(de(n),0,t):n.split(e,t)):[]}var kg=mt(function(n,e,t){return n+(t?" ":"")+mu(e)});function zg(n,e,t){return n=en(n),t=t==null?0:Ve(U(t),0,n.length),e=Yn(e),n.slice(t,t+e.length)==e}function Yg(n,e,t){var u=o.templateSettings;t&&Bn(n,e,t)&&(e=i),n=en(n),e=Xr({},e,u,To);var s=Xr({},e.imports,u.imports,To),f=In(s),h=bi(s,f),d,g,C=0,S=e.interpolate||fr,O="__p += '",b=Ri((e.escape||fr).source+"|"+S.source+"|"+(S===ju?Ol:fr).source+"|"+(e.evaluate||fr).source+"|$","g"),L="//# sourceURL="+(tn.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rc+"]")+`
`;n.replace(b,function(D,z,X,Zn,Pn,Qn){return X||(X=Zn),O+=n.slice(C,Qn).replace(Ml,Cc),z&&(d=!0,O+=`' +
__e(`+z+`) +
'`),Pn&&(g=!0,O+=`';
`+Pn+`;
__p += '`),X&&(O+=`' +
((__t = (`+X+`)) == null ? '' : __t) +
'`),C=Qn+D.length,D}),O+=`';
`;var P=tn.call(e,"variable")&&e.variable;if(!P)O=`with (obj) {
`+O+`
}
`;else if(El.test(P))throw new H(y);O=(g?O.replace(ll,""):O).replace(cl,"$1").replace(al,"$1;"),O="function("+(P||"obj")+`) {
`+(P?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+O+`return __p
}`;var J=Sf(function(){return V(f,L+"return "+O).apply(i,h)});if(J.source=O,gu(J))throw J;return J}function Xg(n){return en(n).toLowerCase()}function Zg(n){return en(n).toUpperCase()}function Qg(n,e,t){if(n=en(n),n&&(t||e===i))return Ts(n);if(!n||!(e=Yn(e)))return n;var u=de(n),s=de(e),f=Rs(u,s),h=Ls(u,s)+1;return qe(u,f,h).join("")}function jg(n,e,t){if(n=en(n),n&&(t||e===i))return n.slice(0,Gs(n)+1);if(!n||!(e=Yn(e)))return n;var u=de(n),s=Ls(u,de(e))+1;return qe(u,0,s).join("")}function Vg(n,e,t){if(n=en(n),n&&(t||e===i))return n.replace(gi,"");if(!n||!(e=Yn(e)))return n;var u=de(n),s=Rs(u,de(e));return qe(u,s).join("")}function n_(n,e){var t=$n,u=rr;if(vn(e)){var s="separator"in e?e.separator:s;t="length"in e?U(e.length):t,u="omission"in e?Yn(e.omission):u}n=en(n);var f=n.length;if(at(n)){var h=de(n);f=h.length}if(t>=f)return n;var d=t-ht(u);if(d<1)return u;var g=h?qe(h,0,d).join(""):n.slice(0,d);if(s===i)return g+u;if(h&&(d+=g.length-d),_u(s)){if(n.slice(d).search(s)){var C,S=g;for(s.global||(s=Ri(s.source,en(Vu.exec(s))+"g")),s.lastIndex=0;C=s.exec(S);)var O=C.index;g=g.slice(0,O===i?d:O)}}else if(n.indexOf(Yn(s),d)!=d){var b=g.lastIndexOf(s);b>-1&&(g=g.slice(0,b))}return g+u}function e_(n){return n=en(n),n&&hl.test(n)?n.replace(Zu,bc):n}var t_=mt(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),mu=So("toUpperCase");function Cf(n,e,t){return n=en(n),e=t?i:e,e===i?Ec(n)?Lc(n):_c(n):n.match(e)||[]}var Sf=q(function(n,e){try{return kn(n,i,e)}catch(t){return gu(t)?t:new H(t)}}),r_=Re(function(n,e){return te(e,function(t){t=Ce(t),be(n,t,du(n[t],n))}),n});function i_(n){var e=n==null?0:n.length,t=B();return n=e?hn(n,function(u){if(typeof u[1]!="function")throw new re(_);return[t(u[0]),u[1]]}):[],q(function(u){for(var s=-1;++s<e;){var f=n[s];if(kn(f[0],this,u))return kn(f[1],this,u)}})}function u_(n){return ba(ue(n,W))}function yu(n){return function(){return n}}function s_(n,e){return n==null||n!==n?e:n}var o_=Io(),f_=Io(!0);function Kn(n){return n}function xu(n){return eo(typeof n=="function"?n:ue(n,W))}function l_(n){return ro(ue(n,W))}function c_(n,e){return io(n,ue(e,W))}var a_=q(function(n,e){return function(t){return Ft(t,n,e)}}),h_=q(function(n,e){return function(t){return Ft(n,t,e)}});function Au(n,e,t){var u=In(e),s=br(e,u);t==null&&!(vn(e)&&(s.length||!u.length))&&(t=e,e=n,n=this,s=br(e,In(e)));var f=!(vn(t)&&"chain"in t)||!!t.chain,h=Me(n);return te(s,function(d){var g=e[d];n[d]=g,h&&(n.prototype[d]=function(){var C=this.__chain__;if(f||C){var S=n(this.__wrapped__),O=S.__actions__=Fn(this.__actions__);return O.push({func:g,args:arguments,thisArg:n}),S.__chain__=C,S}return g.apply(n,$e([this.value()],arguments))})}),n}function d_(){return Wn._===this&&(Wn._=$c),this}function Cu(){}function p_(n){return n=U(n),q(function(e){return uo(e,n)})}var g_=nu(hn),__=nu(Is),v_=nu(Ei);function Ef(n){return ou(n)?Ii(Ce(n)):za(n)}function w_(n){return function(e){return n==null?i:nt(n,e)}}var m_=Wo(),y_=Wo(!0);function Su(){return[]}function Eu(){return!1}function x_(){return{}}function A_(){return""}function C_(){return!0}function S_(n,e){if(n=U(n),n<1||n>ye)return[];var t=j,u=Tn(n,j);e=B(e),n-=j;for(var s=Ni(u,e);++t<n;)e(t);return s}function E_(n){return F(n)?hn(n,Ce):Xn(n)?[n]:Fn(Ko(en(n)))}function I_(n){var e=++Pc;return en(n)+e}var O_=Br(function(n,e){return n+e},0),W_=eu("ceil"),N_=Br(function(n,e){return n/e},1),b_=eu("floor");function T_(n){return n&&n.length?Nr(n,Kn,Hi):i}function R_(n,e){return n&&n.length?Nr(n,B(e,2),Hi):i}function L_(n){return Ns(n,Kn)}function M_(n,e){return Ns(n,B(e,2))}function G_(n){return n&&n.length?Nr(n,Kn,Ki):i}function B_(n,e){return n&&n.length?Nr(n,B(e,2),Ki):i}var P_=Br(function(n,e){return n*e},1),D_=eu("round"),$_=Br(function(n,e){return n-e},0);function H_(n){return n&&n.length?Wi(n,Kn):0}function F_(n,e){return n&&n.length?Wi(n,B(e,2)):0}return o.after=lp,o.ary=ef,o.assign=Zp,o.assignIn=_f,o.assignInWith=Xr,o.assignWith=Qp,o.at=jp,o.before=tf,o.bind=du,o.bindAll=r_,o.bindKey=rf,o.castArray=xp,o.chain=jo,o.chunk=bh,o.compact=Th,o.concat=Rh,o.cond=i_,o.conforms=u_,o.constant=yu,o.countBy=Hd,o.create=Vp,o.curry=uf,o.curryRight=sf,o.debounce=of,o.defaults=ng,o.defaultsDeep=eg,o.defer=cp,o.delay=ap,o.difference=Lh,o.differenceBy=Mh,o.differenceWith=Gh,o.drop=Bh,o.dropRight=Ph,o.dropRightWhile=Dh,o.dropWhile=$h,o.fill=Hh,o.filter=Ud,o.flatMap=qd,o.flatMapDeep=kd,o.flatMapDepth=zd,o.flatten=Yo,o.flattenDeep=Fh,o.flattenDepth=Uh,o.flip=hp,o.flow=o_,o.flowRight=f_,o.fromPairs=Jh,o.functions=fg,o.functionsIn=lg,o.groupBy=Yd,o.initial=qh,o.intersection=kh,o.intersectionBy=zh,o.intersectionWith=Yh,o.invert=ag,o.invertBy=hg,o.invokeMap=Zd,o.iteratee=xu,o.keyBy=Qd,o.keys=In,o.keysIn=Jn,o.map=Jr,o.mapKeys=pg,o.mapValues=gg,o.matches=l_,o.matchesProperty=c_,o.memoize=qr,o.merge=_g,o.mergeWith=vf,o.method=a_,o.methodOf=h_,o.mixin=Au,o.negate=kr,o.nthArg=p_,o.omit=vg,o.omitBy=wg,o.once=dp,o.orderBy=jd,o.over=g_,o.overArgs=pp,o.overEvery=__,o.overSome=v_,o.partial=pu,o.partialRight=ff,o.partition=Vd,o.pick=mg,o.pickBy=wf,o.property=Ef,o.propertyOf=w_,o.pull=jh,o.pullAll=Zo,o.pullAllBy=Vh,o.pullAllWith=nd,o.pullAt=ed,o.range=m_,o.rangeRight=y_,o.rearg=gp,o.reject=tp,o.remove=td,o.rest=_p,o.reverse=au,o.sampleSize=ip,o.set=xg,o.setWith=Ag,o.shuffle=up,o.slice=rd,o.sortBy=fp,o.sortedUniq=cd,o.sortedUniqBy=ad,o.split=qg,o.spread=vp,o.tail=hd,o.take=dd,o.takeRight=pd,o.takeRightWhile=gd,o.takeWhile=_d,o.tap=Td,o.throttle=wp,o.thru=Ur,o.toArray=df,o.toPairs=mf,o.toPairsIn=yf,o.toPath=E_,o.toPlainObject=gf,o.transform=Cg,o.unary=mp,o.union=vd,o.unionBy=wd,o.unionWith=md,o.uniq=yd,o.uniqBy=xd,o.uniqWith=Ad,o.unset=Sg,o.unzip=hu,o.unzipWith=Qo,o.update=Eg,o.updateWith=Ig,o.values=At,o.valuesIn=Og,o.without=Cd,o.words=Cf,o.wrap=yp,o.xor=Sd,o.xorBy=Ed,o.xorWith=Id,o.zip=Od,o.zipObject=Wd,o.zipObjectDeep=Nd,o.zipWith=bd,o.entries=mf,o.entriesIn=yf,o.extend=_f,o.extendWith=Xr,Au(o,o),o.add=O_,o.attempt=Sf,o.camelCase=Tg,o.capitalize=xf,o.ceil=W_,o.clamp=Wg,o.clone=Ap,o.cloneDeep=Sp,o.cloneDeepWith=Ep,o.cloneWith=Cp,o.conformsTo=Ip,o.deburr=Af,o.defaultTo=s_,o.divide=N_,o.endsWith=Rg,o.eq=ge,o.escape=Lg,o.escapeRegExp=Mg,o.every=Fd,o.find=Jd,o.findIndex=ko,o.findKey=tg,o.findLast=Kd,o.findLastIndex=zo,o.findLastKey=rg,o.floor=b_,o.forEach=Vo,o.forEachRight=nf,o.forIn=ig,o.forInRight=ug,o.forOwn=sg,o.forOwnRight=og,o.get=vu,o.gt=Op,o.gte=Wp,o.has=cg,o.hasIn=wu,o.head=Xo,o.identity=Kn,o.includes=Xd,o.indexOf=Kh,o.inRange=Ng,o.invoke=dg,o.isArguments=rt,o.isArray=F,o.isArrayBuffer=Np,o.isArrayLike=Un,o.isArrayLikeObject=mn,o.isBoolean=bp,o.isBuffer=ke,o.isDate=Tp,o.isElement=Rp,o.isEmpty=Lp,o.isEqual=Mp,o.isEqualWith=Gp,o.isError=gu,o.isFinite=Bp,o.isFunction=Me,o.isInteger=lf,o.isLength=zr,o.isMap=cf,o.isMatch=Pp,o.isMatchWith=Dp,o.isNaN=$p,o.isNative=Hp,o.isNil=Up,o.isNull=Fp,o.isNumber=af,o.isObject=vn,o.isObjectLike=wn,o.isPlainObject=zt,o.isRegExp=_u,o.isSafeInteger=Jp,o.isSet=hf,o.isString=Yr,o.isSymbol=Xn,o.isTypedArray=xt,o.isUndefined=Kp,o.isWeakMap=qp,o.isWeakSet=kp,o.join=Xh,o.kebabCase=Gg,o.last=oe,o.lastIndexOf=Zh,o.lowerCase=Bg,o.lowerFirst=Pg,o.lt=zp,o.lte=Yp,o.max=T_,o.maxBy=R_,o.mean=L_,o.meanBy=M_,o.min=G_,o.minBy=B_,o.stubArray=Su,o.stubFalse=Eu,o.stubObject=x_,o.stubString=A_,o.stubTrue=C_,o.multiply=P_,o.nth=Qh,o.noConflict=d_,o.noop=Cu,o.now=Kr,o.pad=Dg,o.padEnd=$g,o.padStart=Hg,o.parseInt=Fg,o.random=bg,o.reduce=np,o.reduceRight=ep,o.repeat=Ug,o.replace=Jg,o.result=yg,o.round=D_,o.runInContext=p,o.sample=rp,o.size=sp,o.snakeCase=Kg,o.some=op,o.sortedIndex=id,o.sortedIndexBy=ud,o.sortedIndexOf=sd,o.sortedLastIndex=od,o.sortedLastIndexBy=fd,o.sortedLastIndexOf=ld,o.startCase=kg,o.startsWith=zg,o.subtract=$_,o.sum=H_,o.sumBy=F_,o.template=Yg,o.times=S_,o.toFinite=Ge,o.toInteger=U,o.toLength=pf,o.toLower=Xg,o.toNumber=fe,o.toSafeInteger=Xp,o.toString=en,o.toUpper=Zg,o.trim=Qg,o.trimEnd=jg,o.trimStart=Vg,o.truncate=n_,o.unescape=e_,o.uniqueId=I_,o.upperCase=t_,o.upperFirst=mu,o.each=Vo,o.eachRight=nf,o.first=Xo,Au(o,function(){var n={};return xe(o,function(e,t){tn.call(o.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),o.VERSION=c,te(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){o[n].placeholder=o}),te(["drop","take"],function(n,e){Y.prototype[n]=function(t){t=t===i?1:Sn(U(t),0);var u=this.__filtered__&&!e?new Y(this):this.clone();return u.__filtered__?u.__takeCount__=Tn(t,u.__takeCount__):u.__views__.push({size:Tn(t,j),type:n+(u.__dir__<0?"Right":"")}),u},Y.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),te(["filter","map","takeWhile"],function(n,e){var t=e+1,u=t==ur||t==ii;Y.prototype[n]=function(s){var f=this.clone();return f.__iteratees__.push({iteratee:B(s,3),type:t}),f.__filtered__=f.__filtered__||u,f}}),te(["head","last"],function(n,e){var t="take"+(e?"Right":"");Y.prototype[n]=function(){return this[t](1).value()[0]}}),te(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");Y.prototype[n]=function(){return this.__filtered__?new Y(this):this[t](1)}}),Y.prototype.compact=function(){return this.filter(Kn)},Y.prototype.find=function(n){return this.filter(n).head()},Y.prototype.findLast=function(n){return this.reverse().find(n)},Y.prototype.invokeMap=q(function(n,e){return typeof n=="function"?new Y(this):this.map(function(t){return Ft(t,n,e)})}),Y.prototype.reject=function(n){return this.filter(kr(B(n)))},Y.prototype.slice=function(n,e){n=U(n);var t=this;return t.__filtered__&&(n>0||e<0)?new Y(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==i&&(e=U(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},Y.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Y.prototype.toArray=function(){return this.take(j)},xe(Y.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),s=o[u?"take"+(e=="last"?"Right":""):e],f=u||/^find/.test(e);s&&(o.prototype[e]=function(){var h=this.__wrapped__,d=u?[1]:arguments,g=h instanceof Y,C=d[0],S=g||F(h),O=function(z){var X=s.apply(o,$e([z],d));return u&&b?X[0]:X};S&&t&&typeof C=="function"&&C.length!=1&&(g=S=!1);var b=this.__chain__,L=!!this.__actions__.length,P=f&&!b,J=g&&!L;if(!f&&S){h=J?h:new Y(this);var D=n.apply(h,d);return D.__actions__.push({func:Ur,args:[O],thisArg:i}),new ie(D,b)}return P&&J?n.apply(this,d):(D=this.thru(O),P?u?D.value()[0]:D.value():D)})}),te(["pop","push","shift","sort","splice","unshift"],function(n){var e=pr[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",u=/^(?:pop|shift)$/.test(n);o.prototype[n]=function(){var s=arguments;if(u&&!this.__chain__){var f=this.value();return e.apply(F(f)?f:[],s)}return this[t](function(h){return e.apply(F(h)?h:[],s)})}}),xe(Y.prototype,function(n,e){var t=o[e];if(t){var u=t.name+"";tn.call(_t,u)||(_t[u]=[]),_t[u].push({name:e,func:t})}}),_t[Gr(i,un).name]=[{name:"wrapper",func:i}],Y.prototype.clone=ea,Y.prototype.reverse=ta,Y.prototype.value=ra,o.prototype.at=Rd,o.prototype.chain=Ld,o.prototype.commit=Md,o.prototype.next=Gd,o.prototype.plant=Pd,o.prototype.reverse=Dd,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=$d,o.prototype.first=o.prototype.head,Mt&&(o.prototype[Mt]=Bd),o},dt=Mc();Xe?((Xe.exports=dt)._=dt,xi._=dt):Wn._=dt}).call(le)}(Vn,Vn.exports);var ve=Vn.exports;function it(a,r,i){a[r]||(a[r]=[]),a[r].push(i)}function Of(a){if(a.length>0)return a[Math.floor(Math.random()*a.length)]}function ze(a,r){return a.reduce((c,l)=>(c[l]=r(l),c),{})}const Yt={균:{균:1},첩:{첩:1},송:{욱:1}},Iu={cheondo:{틴:10,갠:9,걱:9,걷:9,겅:9,굇:9,굼:9,깐:9,깝:9,깩:9,깽:9,꺅:9,껀:9,껑:9,께:9,꽝:9,꽥:9,꿍:9,꿱:9,끔:9,끗:9,낡:9,냠:9,놈:9,놉:9,뇔:9,는:9,닿:9,돝:9,됨:9,둡:9,딘:9,뗀:9,뗑:9,똘:9,롭:9,른:9,맴:9,몫:9,묫:9,뭄:9,믈:9,밧:9,빡:9,빽:9,뺀:9,뻑:9,뻔:9,뻘:9,뻥:9,뼘:9,뽁:9,뽈:9,삵:9,솽:9,쉽:9,슷:9,쌕:9,쏨:9,씽:9,얀:9,옮:9,왹:9,잼:9,젉:9,즙:9,째:9,짹:9,쩍:9,쩔:9,쫀:9,쫌:9,찡:9,챗:9,챙:9,쾰:9,쿵:9,킁:9,킴:9,텁:9,톡:9,툭:9,팟:9,퍽:9,펴:9,푀:9,헉:9,홋:9,훑:9,흭:9,ㅁ:8,갹:8,겟:8,곶:8,괵:8,굉:8,긋:8,긱:8,껌:8,꽹:8,꿈:8,낼:8,넛:8,넴:8,늪:8,늬:8,댈:8,댐:8,던:8,뎀:8,뎅:8,딜:8,땃:8,땔:8,릎:8,맬:8,묻:8,밍:8,벋:8,벗:8,벳:8,뵐:8,뻗:8,뿜:8,삘:8,샴:8,섰:8,셧:8,솝:8,쇤:8,숄:8,숏:8,슴:8,싹:8,씌:8,얘:8,얽:8,없:8,웁:8,잿:8,좇:8,좨:8,죔:8,짙:8,짬:8,짱:8,첼:8,쳄:8,촐:8,칵:8,캅:8,캉:8,캥:8,콰:8,쾨:8,쿼:8,킨:8,탬:8,탭:8,톰:8,톳:8,툰:8,팃:8,팅:8,펭:8,퓰:8,햅:8,헵:8,홉:8,횔:8,휠:8,힉:8,겻:7,굵:7,깬:7,꽈:7,꾐:7,끕:7,끽:7,놓:7,닮:7,댑:7,덮:7,덴:7,둠:7,든:7,듬:7,떨:7,똑:7,렘:7,맵:7,멕:7,묏:7,뮈:7,밝:7,벚:7,볶:7,뺑:7,뽕:7,삐:7,얄:7,옭:7,옻:7,욋:7,줏:7,즈:7,쫄:7,쫑:7,쯔:7,찐:7,찻:7,챈:7,촛:7,캬:7,컵:7,퀼:7,탤:7,텍:7,튈:7,폼:7,폿:7,헹:7,홧:7,훌:7,훗:7,훙:7,휫:7,꼼:6,눅:6,닫:6,댕:6,덱:6,델:6,럭:6,믿:6,샹:6,싼:6,엮:6,윙:6,젠:6,줍:6,츠:6,컷:6,퍼:6,흩:6,꽉:5,땜:5,뚤:5,럼:5,렌:5,멈:5,씹:5,얹:5,젬:5,챌:5,챔:5,칩:5,턴:5,텀:5,펩:5,픽:5,껄:4,눌:4,덜:4,랙:4,룰:4,뻐:4,쉐:4,옌:4,욀:4,읍:4,쥘:4,켄:4,켈:4,퀘:4,펌:4,퓨:4,혹:4,횟:4,훤:4,휼:4,굿:3,댁:3,멤:3,잭:3,갸:2,겔:2,괄:2,꾀:2,꿸:2,넝:2,넬:2,닻:2,롄:2,멋:2,뫼:2,밸:2,샐:2,숯:2,쉰:2,싯:2,옳:2,킬:2,탯:2,템:2},sinel:{쇄:1},chaerin:{몫:10,츠:10,콕:10,갠:9,괵:9,굇:9,깩:9,깰:9,꺅:9,꽤:9,낼:9,덱:9,뎀:9,둡:9,뒛:9,딥:9,맬:9,묫:9,뭀:9,믓:9,믯:9,븍:9,븕:9,뼁:9,뽑:9,샬:9,셍:9,솽:9,숑:9,쉽:9,슷:9,싣:9,쐑:9,씁:9,씩:9,얀:9,얖:9,옫:9,왯:9,웁:9,잼:9,젉:9,젬:9,젼:9,짹:9,쨍:9,쫑:9,챗:9,쳄:9,쳠:9,츈:9,컷:9,쾨:9,킴:9,톰:9,툰:9,튱:9,팀:9,푀:9,헉:9,헨:9,흴:9,힉:9,갹:8,겡:8,됴:8,믠:8,볔:8,뵐:8,붝:8,빡:8,빤:8,뺌:8,뾩:8,삔:8,쇤:8,싄:8,옭:8,욋:8,윁:8,죔:8,죵:8,줏:8,쥰:8,즁:8,챔:8,첼:8,캅:8,탬:8,톧:8,튼:8,펌:8,헵:8,홉:8,횔:8,훋:8,휠:8,굉:7,긔:7,꼉:7,넢:7,벜:7,뿜:7,쌸:7,씌:7,졀:7,좇:7,짱:7,텟:7,끕:6,쌧:6,얄:6}};class Zr{constructor(){jn(this,"_succ");jn(this,"_pred");this._succ={},this._pred={}}addWord(r,i,c){this._succ[r]||(this._succ[r]={},this._pred[r]={}),this._succ[i]||(this._succ[i]={},this._pred[i]={}),this._succ[r][i]||(this._succ[r][i]=[]),this._pred[i][r]||(this._pred[i][r]=[]),this._succ[r][i].push(c),this._pred[i][r].push(c)}removeWord(r,i,c){this._succ[r][i]=this._succ[r][i].filter(l=>l!==c),this._pred[i][r]=this._succ[i][r].filter(l=>l!==c),this._succ[r][i].length===0&&delete this._succ[r][i],this._pred[i][r].length===0&&delete this._pred[i][r]}hasEdge(r,i){return this._succ[r]?!!this._succ[r][i]:!1}select(r,i){var c;return((c=this._succ[r])==null?void 0:c[i])||[]}outWords(r){return Object.values(this._succ[r]||{}).flat()}inWords(r){return Object.values(this._pred[r]||{}).flat()}}class Ye{constructor(){jn(this,"_succ");jn(this,"_pred");jn(this,"nodes");this._succ={},this._pred={},this.nodes={}}edges(){return Object.keys(this.nodes).flatMap(r=>Object.keys(this._succ[r]).map(i=>[r,i]))}addEdge(r,i,c=1){this.nodes[r]={},this.nodes[i]={},this._succ[r]||(this._succ[r]={},this._pred[r]={}),this._succ[i]||(this._succ[i]={},this._pred[i]={}),this._succ[r][i]||(this._succ[r][i]=0),this._pred[i][r]||(this._pred[i][r]=0),this._succ[r][i]+=c,this._pred[i][r]+=c}addNode(r){typeof r=="string"&&(r=[r]),r.forEach(i=>{this.nodes[i]||(this.nodes[i]={},this._succ[i]||(this._succ[i]={},this._pred[i]={}))})}predecessors(r){return typeof r=="string"?(this._pred[r]||console.log(r),Object.keys(this._pred[r])):[...new Set(r.flatMap(i=>Object.keys(this._pred[i])))]}forEachPreds(r,i){typeof r=="string"&&(r=[r]);const c=new Set;for(let l of r)for(let v in this._pred[l])c.has(v)||(c.add(v),i(l,v,this._pred[l][v]))}successors(r){if(typeof r=="string"){if(!this._succ[r])throw`${r} not in graph`;return Object.keys(this._succ[r])}else return[...new Set(r.flatMap(i=>Object.keys(this._succ[i])))]}successorsWithMultiplicity(r){if(!this._succ[r])throw`${r} not in graph`;return ve.cloneDeep(this._succ[r])}removeNode(r){typeof r=="string"&&(r=[r]);for(let i of r){for(let c in this._succ[i])delete this._pred[c][i];delete this._succ[i];for(let c in this._pred[i])delete this._succ[c][i];delete this._pred[i],delete this.nodes[i]}}removeEdgeBunch(r,i){delete this._succ[r][i],delete this._pred[i][r]}removeInEdge(r){typeof r=="string"&&(r=[r]);for(let i of r){for(let c in this._pred[i])delete this._succ[c][i];this._pred[i]||(console.log(this._pred),console.log(i)),Object.keys(this._pred[i]).forEach(c=>{delete this._pred[i][c]})}}removeOutEdge(r){typeof r=="string"&&(r=[r]);for(let i of r){for(let c in this._succ[i])delete this._pred[c][i];Object.keys(this._succ[i]).forEach(c=>{delete this._succ[i][c]})}}removeEdge(r,i,c=1){this._succ[r][i]-=c,this._succ[r][i]<=0&&delete this._succ[r][i],this._pred[i][r]-=c,this._pred[i][r]<=0&&delete this._pred[i][r]}hasEdge(r,i){return!(!this._succ[r]||!this._succ[r][i])}getSize(){let r=0;for(let i in this._succ)r+=Object.values(this._succ[i]).reduce((c,l)=>c+l,0);return r+=Object.keys(this.nodes).filter(i=>this.nodes[i].loop).length,r}copy(){const r=new Ye;return r._pred=ve.cloneDeep(this._pred),r._succ=ve.cloneDeep(this._succ),r.nodes=ve.cloneDeep(this.nodes),r}getSubgraph(r){const i=new Ye;for(let c of r)i.nodes[c]=this.nodes[c],i._pred[c]=ze(Object.keys(this._pred[c]).filter(l=>r.has(l)),l=>this._pred[c][l]),i._succ[c]=ze(Object.keys(this._succ[c]).filter(l=>r.has(l)),l=>this._succ[c][l]);return i}clearNodeInfo(){for(let r in this.nodes)this.nodes[r].loop&&this.addEdge(r,this.nodes[r].loop);for(let r in this.nodes)this.nodes[r]={}}}function Qr(a){const r=new Ye;return r._pred=a._pred,r._succ=a._succ,r.nodes=a.nodes,r}function Ou(a){const r=new Zr;return r._pred=a._pred,r._succ=a._succ,r}var Wu={exports:{}};(function(a){(function(){var r=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],i=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],c=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],l=44032,v=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],_=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],y=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],N=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],E=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],w=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]],W,R,I,M,$,on;function un(x){for(var G=x.length,j={0:0},K=0;K<G;K++)x[K]&&(j[x[K].charCodeAt(0)]=K);return j}W=un(v),R=un(_),I=un(y),M=un(N);function Ln(x){for(var G=x.length,j={},K,Z,Q=0;Q<G;Q++)K=x[Q][0].charCodeAt(0),Z=x[Q][1].charCodeAt(0),typeof j[K]>"u"&&(j[K]={}),j[K][Z]=x[Q][2].charCodeAt(0);return j}$=Ln(E),on=Ln(w);function On(x){return typeof W[x]<"u"}function Mn(x){return typeof R[x]<"u"}function dn(x){return typeof I[x]<"u"}function ne(x){return typeof M[x]<"u"}function bn(x){return 44032<=x&&x<=55203}function ae(x,G){return on[x]&&on[x][G]?on[x][G]:!1}function me(x,G){return $[x]&&$[x][G]?$[x][G]:!1}var $n=function(x,G){if(x===null)throw new Error("Arguments cannot be null");typeof x=="object"&&(x=x.join(""));for(var j=[],K=x.length,Z,Q,pn,an,sn,nn=0;nn<K;nn++){var k=[];an=x.charCodeAt(nn),bn(an)?(an-=l,pn=an%28,Q=(an-pn)/28%21,Z=parseInt((an-pn)/28/21),k.push(r[Z]),typeof i[Q]=="object"?k=k.concat(i[Q]):k.push(i[Q]),pn>0&&(typeof c[pn]=="object"?k=k.concat(c[pn]):k.push(c[pn]))):On(an)?(Mn(an)?sn=r[R[an]]:sn=c[M[an]],typeof sn=="string"?k.push(sn):k=k.concat(sn)):dn(an)?(sn=i[I[an]],typeof sn=="string"?k.push(sn):k=k.concat(sn)):k.push(x.charAt(nn)),G?j.push(k):j=j.concat(k)}return j},rr=function(x){return typeof x!="string"?"":(x=$n(x),x.join(""))},ir=function(x){typeof x=="string"&&(x=$n(x));var G=[],j=x.length,K,Z=0,Q=-1,pn,an=!1;function sn(k){var gn,_n,Ie,qn=0,En,Hn="";if(an=!1,!(Q+1>k))for(var An=1;;An++){if(An===1){if(gn=x[Q+An].charCodeAt(0),dn(gn))if(Q+An+1<=k&&dn(_n=x[Q+An+1].charCodeAt(0))){G.push(String.fromCharCode(ae(gn,_n))),Q=k;return}else{G.push(x[Q+An]),Q=k;return}else if(!Mn(gn)){G.push(x[Q+An]),Q=k;return}Hn=x[Q+An]}else if(An===2)if(_n=x[Q+An].charCodeAt(0),Mn(_n)){gn=me(gn,_n),Hn=String.fromCharCode(gn),G.push(Hn),Q=k;return}else Hn=String.fromCharCode((R[gn]*21+I[_n])*28+l);else An===3?(Ie=x[Q+An].charCodeAt(0),ae(_n,Ie)?_n=ae(_n,Ie):qn=Ie,Hn=String.fromCharCode((R[gn]*21+I[_n])*28+M[qn]+l)):An===4?(En=x[Q+An].charCodeAt(0),me(qn,En)?qn=me(qn,En):qn=En,Hn=String.fromCharCode((R[gn]*21+I[_n])*28+M[qn]+l)):An===5&&(En=x[Q+An].charCodeAt(0),qn=me(qn,En),Hn=String.fromCharCode((R[gn]*21+I[_n])*28+M[qn]+l));if(Q+An>=k){G.push(Hn),Q=k;return}}}for(var nn=0;nn<j;nn++){if(K=x[nn].charCodeAt(0),!Mn(K)&&!dn(K)&&!ne(K)){sn(nn-1),sn(nn),Z=0;continue}Z===0?Mn(K)?Z=1:dn(K)&&(Z=4):Z==1?dn(K)?Z=2:me(pn,K)?Z=5:sn(nn-1):Z==2?ne(K)?Z=3:dn(K)?ae(pn,K)||(sn(nn-1),Z=4):(sn(nn-1),Z=1):Z==3?ne(K)?!an&&me(pn,K)?an=!0:(sn(nn-1),Z=1):Mn(K)?(sn(nn-1),Z=1):dn(K)&&(sn(nn-2),Z=2):Z==4?dn(K)?ae(pn,K)?(sn(nn),Z=0):sn(nn-1):(sn(nn-1),Z=1):Z==5&&(dn(K)?(sn(nn-2),Z=2):(sn(nn-1),Z=1)),pn=K}return sn(nn-1),G.join("")},ri=function(x,G){var j=$n(x).join(""),K=$n(G).join("");return j.indexOf(K)},ur=function(x,G){var j=$n(x).join(""),K=$n(G).join(""),Z=$n(x,!0),Q=new RegExp(K,"gi"),pn=[],an;if(!G.length)return[];for(;an=Q.exec(j);)pn.push(an.index);function sn(k){for(var gn=0,_n=0;gn<Z.length;++gn)if(_n+=Z[gn].length,k<_n)return gn}function nn(k){for(var gn=0,_n=0;gn<Z.length;++gn)if(_n+=Z[gn].length,k+K.length<=_n)return gn}return pn.map(function(k){return[sn(k),nn(k)]})};function sr(x){this.string=x,this.disassembled=$n(x).join("")}sr.prototype.search=function(x){return $n(x).join("").indexOf(this.disassembled)};var ii=function(x){typeof x=="object"&&(x=x.join(""));var G=x.charCodeAt(x.length-1);if(bn(G)){G-=l;var j=G%28;if(j>0)return!0}else if(On(G))return!0;return!1},Ee=function(x,G){return $n(x).pop()===G},ye={disassemble:$n,d:$n,disassembleToString:rr,ds:rr,assemble:ir,a:ir,search:ri,rangeSearch:ur,Searcher:sr,endsWithConsonant:ii,endsWith:Ee,isHangul:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),bn(x)},isComplete:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),bn(x)},isConsonant:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),On(x)},isVowel:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),dn(x)},isCho:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),Mn(x)},isJong:function(x){return typeof x=="string"&&(x=x.charCodeAt(0)),ne(x)},isHangulAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!bn(x.charCodeAt(G)))return!1;return!0},isCompleteAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!bn(x.charCodeAt(G)))return!1;return!0},isConsonantAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!On(x.charCodeAt(G)))return!1;return!0},isVowelAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!dn(x.charCodeAt(G)))return!1;return!0},isChoAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!Mn(x.charCodeAt(G)))return!1;return!0},isJongAll:function(x){if(typeof x!="string")return!1;for(var G=0;G<x.length;G++)if(!ne(x.charCodeAt(G)))return!1;return!0}};a.exports=ye})()})(Wu);var Nu=Wu.exports,Ct=44032,bu=55203,Xt=28,Tu=21,ut=[..."각힣".normalize("NFD")].map(a=>a.charCodeAt(0)),Zt={START_CHOSEONG:ut[0],START_JUNGSEONG:ut[1],START_JONGSEONG:ut[2],END_CHOSEONG:ut[3],END_JUNGSEONG:ut[4],END_JONGSEONG:ut[5]},jr={"":"",ㄱ:"ㄱ",ㄲ:"ㄲ",ㄳ:"ㄱㅅ",ㄴ:"ㄴ",ㄵ:"ㄴㅈ",ㄶ:"ㄴㅎ",ㄷ:"ㄷ",ㄸ:"ㄸ",ㄹ:"ㄹ",ㄺ:"ㄹㄱ",ㄻ:"ㄹㅁ",ㄼ:"ㄹㅂ",ㄽ:"ㄹㅅ",ㄾ:"ㄹㅌ",ㄿ:"ㄹㅍ",ㅀ:"ㄹㅎ",ㅁ:"ㅁ",ㅂ:"ㅂ",ㅃ:"ㅃ",ㅄ:"ㅂㅅ",ㅅ:"ㅅ",ㅆ:"ㅆ",ㅇ:"ㅇ",ㅈ:"ㅈ",ㅉ:"ㅉ",ㅊ:"ㅊ",ㅋ:"ㅋ",ㅌ:"ㅌ",ㅍ:"ㅍ",ㅎ:"ㅎ"},Qt={ㅏ:"ㅏ",ㅐ:"ㅐ",ㅑ:"ㅑ",ㅒ:"ㅒ",ㅓ:"ㅓ",ㅔ:"ㅔ",ㅕ:"ㅕ",ㅖ:"ㅖ",ㅗ:"ㅗ",ㅘ:"ㅗㅏ",ㅙ:"ㅗㅐ",ㅚ:"ㅗㅣ",ㅛ:"ㅛ",ㅜ:"ㅜ",ㅝ:"ㅜㅓ",ㅞ:"ㅜㅔ",ㅟ:"ㅜㅣ",ㅠ:"ㅠ",ㅡ:"ㅡ",ㅢ:"ㅡㅣ",ㅣ:"ㅣ"},Vr=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],St=Object.values(Qt),Et=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"].map(a=>jr[a]);function Wf(a){const r=a.charCodeAt(0);if(!(Ct<=r&&r<=bu))return;const c=r-Ct,l=c%Xt,v=(c-l)/Xt%Tu,_=Math.floor((c-l)/Xt/Tu);return{first:Vr[_],middle:St[v],last:Et[l]}}new RegExp(`[^\\u${Zt.START_CHOSEONG.toString(16)}-\\u${Zt.END_CHOSEONG.toString(16)}ㄱ-ㅎ\\s]+`,"ug"),new RegExp(`[\\u${Zt.START_CHOSEONG.toString(16)}-\\u${Zt.END_CHOSEONG.toString(16)}]`,"g");function Nf(a){const r=a[a.length-1];if(r==null)return!1;const i=r.charCodeAt(0);if(!(Ct<=i&&i<=bu))return!1;const l=(i-Ct)%Xt;return Et[l].length===1}function Ru(a){return Vt(Vr,a)}function bf(a){return Vt(St,a)}function Se(a){return Vt(St,a)}function jt(a){return Vt(Et,a)}function Vt(a,r){return a.some(i=>i===r)}function Lu(a,r){return Object.prototype.hasOwnProperty.call(a,r)}function nr(a){const r=[];for(const i of a){const c=Wf(i);if(c!=null){r.push([...c.first,...c.middle,...c.last]);continue}if(Lu(jr,i)){const l=jr[i];r.push([...l]);continue}if(Lu(Qt,i)){const l=Qt[i];r.push([...l]);continue}r.push([i])}return r}function Tf(a){return nr(a).reduce((r,i)=>`${r}${i.join("")}`,"")}function It(a){const r=a[a.length-1];return[a.slice(0,-1),r??""]}function Ot(...a){return a.join("")}function Mu(a){return/^\s$/.test(a)}function Gu(a,r){if(a===!1)throw new Error(r??"Invalid condition")}function st(a,r,i=""){if(Ru(a)===!1||Se(r)===!1||jt(i)===!1)throw new Error(`Invalid hangul Characters: ${a}, ${r}, ${i}`);const c=St.length,l=Et.length,v=Vr.indexOf(a),_=St.indexOf(r),y=Et.indexOf(i),N=v*c*l,E=_*l,w=Ct+N+E+y;return String.fromCharCode(w)}var Rf=a=>r=>(i="")=>st(a,r,i),Lf=(a,r)=>{var i,c;return(c=(i=Object.entries(Qt).find(([,l])=>l===`${a}${r}`))==null?void 0:i[0])!=null?c:`${a}${r}`};function Mf(a){const r=a[a.length-1];if(r==null)return"";const i=(()=>{const c=nr(r),[l]=It(c[0]);if(l.length<=3){const[v,_,y]=l;return _!=null?bf(y)?st(v,`${_}${y}`):st(v,_,y):v}else{const[v,_,y,N]=l;return st(v,`${_}${y}`,N)}})();return[a.substring(0,a.length-1),i].join("")}function Gf(a){return/^[가-힣]$/.test(a)}function Bu(a){return/^[ㄱ-ㅣ]$/.test(a)}function Bf(a,r){return Se(`${a}${r}`)?Lf(a,r):Se(a)===!1&&Se(r)?st(a,r):Ot(a,r)}function Pf(a,r){const i=nr(a)[0],[,c]=It(i);return Ot(Mf(a),st(c,r))}function Df(a,r){Gu(Gf(a)||Bu(a),`Invalid source character: ${a}. Source must be one character.`),Gu(Bu(r),`Invalid next character: ${r}. Next character must be one of the choseong, jungseong, or jongseong.`);const i=nr(a)[0];if(i.length===1){const I=i[0];return Bf(I,r)}const[l,v]=It(i),_=It(l)[1];if(Ru(v)&&Se(r))return Pf(a,r);const E=Rf(l[0]);if(Se(`${v}${r}`))return E(`${v}${r}`)();if(Se(`${_}${v}`)&&jt(r))return E(`${_}${v}`)(r);if(Se(v)&&jt(r))return E(v)(r);const W=E(Se(`${l[1]}${l[2]}`)?`${l[1]}${l[2]}`:l[1]),R=v;return Nf(a)&&jt(`${R}${r}`)?W(`${R}${r}`):Ot(a,r)}function $f(a,r){const[i,c]=It(a.split("")),l=Mu(c)||Mu(r);return Ot(...i,l?Ot(c,r):Df(c,r))}function xn(a){return Tf(a.join("")).split("").reduce($f)}const Wt=a=>a.charCodeAt(0),Hf=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],Ff=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],Uf=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],Jf=44032;function we(a){let r=Wt(a);if(r>=Wt("ㄱ")&&r<=Wt("ㅎ"))return[a,void 0,void 0];if(r>=Wt("ㅏ")&&r<=Wt("ㅣ"))return[void 0,a,void 0];r=r-Jf;let i=Math.floor(r/588),c=Math.floor((r-i*588)/28),l=r%28;return[Hf[i],Ff[c],Uf[l]]}const Pu={ㅏ:"ㅓ",ㅑ:"ㅕ",ㅓ:"ㅏ",ㅕ:"ㅑ",ㅗ:"ㅜ",ㅛ:"ㅠ",ㅜ:"ㅗ",ㅠ:"ㅛ"};function Du(a){return[a]}const Kf=Du;function er(a){const[r,i,c]=we(a);return r==="ㄹ"&&["ㅑ","ㅕ","ㅛ","ㅠ","ㅣ","ㅖ"].includes(i)?[a,xn(["ㅇ",i,c])]:r==="ㄹ"&&["ㅏ","ㅐ","ㅗ","ㅜ","ㅡ","ㅚ"].includes(i)?[a,xn(["ㄴ",i,c])]:r==="ㄴ"&&["ㅕ","ㅛ","ㅠ","ㅣ"].includes(i)?[a,xn(["ㅇ",i,c])]:[a]}function ni(a){const[r,i,c]=we(a);return r==="ㅇ"&&["ㅑ","ㅖ"].includes(i)?[a,xn(["ㄹ",i,c])]:r==="ㄴ"&&["ㅏ","ㅐ","ㅗ","ㅜ","ㅡ","ㅚ"].includes(i)?[a,xn(["ㄹ",i,c])]:r==="ㅇ"&&["ㅕ","ㅛ","ㅠ","ㅣ"].includes(i)?[a,xn(["ㄴ",i,c]),xn(["ㄹ",i,c])]:[a]}function qf(a){const[r,i,c]=we(a);return r==="ㄹ"?[a,xn(["ㄴ",i,c]),xn(["ㅇ",i,c])]:r==="ㄴ"?[a,xn(["ㅇ",i,c])]:[a]}function kf(a){const[r,i,c]=we(a);return r==="ㅇ"?[a,xn(["ㄴ",i,c]),xn(["ㄹ",i,c])]:r==="ㄴ"?[a,xn(["ㄹ",i,c])]:[a]}function $u(a){const[r,i,c]=we(a);return r==="ㄹ"||r==="ㄴ"||r==="ㅇ"?[xn(["ㄹ",i,c]),xn(["ㄴ",i,c]),xn(["ㅇ",i,c])]:[a]}const zf=$u;function Hu(a){const[r,i,c]=we(a),l=er(a);return i&&i in Pu&&l.push(xn([r,Pu[i],c])),l}const Yf=Hu;function Fu(a){const[r,i,c]=we(a);return r&&c&&Nu.isJong(r)&&Nu.isCho(c)&&r!==c?[a,xn([c,i,r])]:[a]}const Xf=Fu;function Uu(a){const[r,i,c]=we(a);let l;r==="ㄹ"||r==="ㄴ"||r==="ㅇ"?l=["ㄹ","ㄴ","ㅇ"]:l=[r];let v;c==="ㄹ"||c==="ㄴ"||c==="ㅇ"?v=["ㄹ","ㄴ","ㅇ"]:v=[c];let _=[];for(let y of l)for(let N of v)_.push(xn([y,i,N]));return _}const Zf=Uu;function Qf(a){const r=er(a);return r.length>=2?r.slice(1):r}function jf(a){const[r,i,c]=we(a),l=ni(a);return l.length>=2?l:r==="ㄹ"&&["ㅑ","ㅕ","ㅛ","ㅠ","ㅣ","ㅖ"].includes(i)?[]:r==="ㄹ"&&["ㅏ","ㅐ","ㅗ","ㅜ","ㅡ","ㅚ"].includes(i)?[]:r==="ㄴ"&&["ㅕ","ㅛ","ㅠ","ㅣ"].includes(i)?[]:l}const Ju=ni,Ku=er;function Vf(a){const r=Ju(a);return r.length>=2?r.slice(1):r}function nl(a){const[r,i,c]=we(a),l=Ku(a);return l.length>=2?l:r==="ㅇ"&&["ㅑ","ㅕ","ㅛ","ㅠ","ㅣ","ㅖ"].includes(i)?[]:r==="ㄴ"&&["ㅏ","ㅐ","ㅗ","ㅜ","ㅡ","ㅚ"].includes(i)?[]:r==="ㅇ"&&["ㅕ","ㅛ","ㅠ","ㅣ"].includes(i)?[]:l}const ot=[Du,er,Qf,Ju,Vf,qf,$u,Hu,Fu,Uu],qu=[Kf,ni,jf,Ku,nl,kf,zf,Yf,Xf,Zf];class ei{constructor(r,i){jn(this,"rule");jn(this,"words");jn(this,"wordMap");jn(this,"returnWordMap");jn(this,"wordGraph");jn(this,"chanGraph");jn(this,"returnWordGraph");this.rule=r,this.wordMap=new Zr,this.returnWordMap=new Zr,this.words=i||[],this.wordGraph=new Ye,this.chanGraph=new Ye,this.returnWordGraph=void 0}update(){for(let r of this.words){let i=r.at(this.rule.headIdx),c=r.at(this.rule.tailIdx);this.wordGraph.addEdge(i,c),this.wordMap.addWord(i,c,r)}for(let r in this.wordGraph.nodes)this.chanGraph.addNode(r),ot[this.rule.changeableIdx](r).filter(i=>this.wordGraph.nodes[i]!==void 0).forEach(i=>{this.chanGraph.addEdge(r,i)});zu(this.chanGraph,this.wordGraph),this.returnWordGraph=Yu(this.chanGraph,this.wordGraph);for(let r of Object.keys(this.returnWordGraph.nodes))for(let i of this.returnWordGraph.successors(r))for(let c of this.wordMap.select(r,i).slice(0,this.returnWordGraph._succ[r][i]))this.returnWordMap.addWord(r,i,c);return this}getNextWords(r){return ot[this.rule.changeableIdx](r).filter(i=>this.chanGraph.nodes[i]).flatMap(i=>this.wordMap.outWords(i))}getBestNextLosWord(r){return this.getNextWords(r).filter(c=>this.chanGraph.nodes[c.at(this.rule.tailIdx)].type==="route")}copy(r){const i=new ei(this.rule,this.words);return r&&r.length>0?(i.words=this.words.filter(c=>!r.includes(c)),i.chanGraph.addNode(r.flatMap(c=>[c.at(this.rule.headIdx),c.at(this.rule.tailIdx)])),i.wordGraph.addNode(r.flatMap(c=>[c.at(this.rule.headIdx),c.at(this.rule.tailIdx)])),i.update()):(i.wordGraph=this.wordGraph,i.chanGraph=this.chanGraph,i.returnWordGraph=this.returnWordGraph,i.wordMap=this.wordMap,i.returnWordMap=this.returnWordMap),i}}class rn{static isCriticalChar(r,i){const c=r.chanGraph.successors(i);let l=[],v=0;for(const _ of c){const y=r.wordGraph.successorsWithMultiplicity(_);for(const N in y)if(v+=y[N],l=[_,N],v>1)return!1}return l}static getCriticalWords(r){const i=Object.keys(r.chanGraph.nodes).filter(N=>r.chanGraph.nodes[N].type==="route"),c=ze(i,N=>r.chanGraph.predecessors(r.wordGraph.predecessors(N)).length);i.sort((N,E)=>-c[N]+c[E]);const l={maxRoute:[],minRoute:[]},[v,_]=ti(r.chanGraph,r.wordGraph,i),y=new Set(v);for(const N of i){const E=this.isCriticalChar(r,N);if(E){const w=r.returnWordMap.select(E[0],E[1]),W=r.wordMap.select(E[0],E[1]).filter(R=>!w.includes(R))[0];y.has(E[0])&&!l.maxRoute.includes(W)?l.maxRoute.push(W):l.minRoute.includes(W)||l.minRoute.push(W)}}return l}static getSolutionWord(r,i){const c=r.chanGraph.nodes[i].solution,l=r.wordGraph.nodes[c].solution;return r.wordMap.select(c,l)}static getWinWord(r,i){const c=r.getNextWords(i).filter(l=>rn.getWordType(r,l).type==="win"||rn.getWordType(r,l).type==="wincir");return c.reduce((l,v)=>rn.getWordType(r,l).endNum<rn.getWordType(r,v).endNum?l:v,c[0])}static getLosWord(r,i){const c=r.getNextWords(i).filter(l=>rn.getWordType(r,l).type==="los"||rn.getWordType(r,l).type==="loscir");if(c.length!==0)return c.reduce((l,v)=>rn.getWordType(r,l).endNum>rn.getWordType(r,v).endNum?l:v,c[0])}static getLosWords(r,i){return r.getNextWords(i).filter(l=>rn.getWordType(r,l).type==="los"||rn.getWordType(r,l).type==="loscir").sort((l,v)=>-rn.getWordType(r,l).endNum+rn.getWordType(r,v).endNum)}static getMaxTrail(r,i){const c=[];if(r.chanGraph.nodes[i].type==="win"||r.chanGraph.nodes[i].type==="wincir"){const v=this.getSolutionWord(r,i)[0];c.push(v),i=v.at(r.rule.tailIdx)}let l=0;for(;l++,!(l>200);){const v=this.getLosWord(r,i);if(!v)break;c.push(v),i=v.at(r.rule.tailIdx);const _=this.getSolutionWord(r,i)[0];c.push(_),i=_.at(r.rule.tailIdx)}return c}static getTree(r,i){const c={type:r.chanGraph.nodes[i].type==="win"||r.chanGraph.nodes[i].type==="wincir"?"win":"los",win:[],los:[]};if(c.type==="win"){const v=this.getSolutionWord(r,i)[0];c.win.push(v),i=v.at(r.rule.tailIdx)}let l=0;for(;l++,!(l>200);){const v=this.getLosWords(r,i);if(v.length===0)break;c.los.push({mainIdx:0,words:v}),i=v[0].at(r.rule.tailIdx);const _=this.getSolutionWord(r,i)[0];c.win.push(_),i=_.at(r.rule.tailIdx)}return c}static changeTree(r,i,c,l){i.los[c].mainIdx=l,i.los.length=c+1,i.win.length=c+(i.type==="win"?1:0);let v=i.los[c].words[l].at(r.rule.tailIdx),_=0;for(;_++,!(_>200);){const y=this.getSolutionWord(r,v)[0];i.win.push(y),v=y.at(r.rule.tailIdx);const N=this.getLosWords(r,v);if(N.length===0)break;i.los.push({mainIdx:0,words:N}),v=N[0].at(r.rule.tailIdx)}return i}static getCharType(r,i){const c=ot[r.rule.changeableIdx](i).filter(l=>r.wordGraph.nodes[l]).map(l=>rn.reduceWordtype(r.wordGraph.nodes[l].type));return c.includes("win")?"win":c.includes("route")?"route":"los"}static routeCharTypeChartData(r){const i=Object.keys(r.chanGraph.nodes).filter(y=>r.chanGraph.nodes[y].type==="route"),[c,l]=ti(r.wordGraph,r.chanGraph,i);return{data:[{name:"maxRouteChars",num:c.length,fill:"hsl(var(--route))"},{name:"minRouteChars",num:l.length,fill:"hsl(var(--route) / 0.8)"}],config:{minRouteChars:{label:"희귀 루트"},maxRouteChars:{label:"주요 루트"}}}}static winCharTypeChartData(r){const i=Object.keys(r.chanGraph.nodes).filter(_=>r.chanGraph.nodes[_].type==="win"||r.chanGraph.nodes[_].type==="wincir"),c={};for(let _ of i)it(c,r.chanGraph.nodes[_].endNum,_);const l=Object.keys(c).map(_=>parseInt(_)).sort((_,y)=>_-y).map(_=>({endNum:`${_}`,num:c[_].length,fill:`hsl(var(--win) / ${.5/Object.keys(c).length*(Object.keys(c).length-Math.floor(_/2))+.5})`})),v={};return l.forEach(_=>{v[_.endNum]={label:`${_.endNum}턴`}}),{data:l,config:v}}static losCharTypeChartData(r){const i=Object.keys(r.chanGraph.nodes).filter(_=>r.chanGraph.nodes[_].type==="los"||r.chanGraph.nodes[_].type==="loscir"),c={};for(let _ of i)it(c,r.chanGraph.nodes[_].endNum,_);const l=Object.keys(c).map(_=>parseInt(_)).sort((_,y)=>_-y).map(_=>({endNum:`${_}`,num:c[_].length,fill:`hsl(var(--los) / ${.5/Object.keys(c).length*(Object.keys(c).length-Math.floor(_/2))+.5})`})),v={};return l.forEach(_=>{v[_.endNum]={label:`${_.endNum}턴`}}),{data:l,config:v}}static routeComparisonChartData(r){const i=Object.keys(r.chanGraph.nodes).filter(v=>r.chanGraph.nodes[v].type==="route").length,c=r.words.filter(v=>r.wordGraph.nodes[v.at(r.rule.headIdx)].type==="route"&&r.chanGraph.nodes[v.at(r.rule.tailIdx)].type==="route").filter(v=>rn.getWordType(r,v).type==="route").length,l=c/i;return[{data:"routeChars",currentRule:i,guelRule:i},{data:"routeWords",currentRule:c,guelRule:c},{data:"averageWords",currentRule:l,guelRule:l}]}static charTypeChartData(r){const i=Object.keys(r.chanGraph.nodes);return[{type:"win",num:i.filter(l=>r.chanGraph.nodes[l].type==="win"||r.chanGraph.nodes[l].type==="wincir").length,fill:"hsl(var(--win))"},{type:"los",num:i.filter(l=>r.chanGraph.nodes[l].type==="los"||r.chanGraph.nodes[l].type==="loscir").length,fill:"hsl(var(--los))"},{type:"route",num:i.filter(l=>r.chanGraph.nodes[l].type==="route").length,fill:"hsl(var(--route))"}]}static endInN(r){const i={win:[],los:[],route:{maxComp:[],minComp:[]}},c={},l={},v=Object.keys(r.chanGraph.nodes);v.sort();for(let _ of v)switch(r.chanGraph.nodes[_].type){case"win":case"wincir":it(c,r.chanGraph.nodes[_].endNum,_);break;case"los":case"loscir":it(l,r.chanGraph.nodes[_].endNum,_);break}return[i.route.maxComp,i.route.minComp]=ti(r.chanGraph,r.wordGraph,Object.keys(r.chanGraph.nodes).filter(_=>r.chanGraph.nodes[_].type==="route")).map(_=>_.sort()),i.win=Object.keys(c).map(_=>parseInt(_)).sort((_,y)=>_-y).map(_=>({endNum:_,chars:c[_]})),i.los=Object.keys(l).map(_=>parseInt(_)).sort((_,y)=>_-y).map(_=>({endNum:_,chars:l[_]})),i}static startsWithNum(r){const i=ze(Object.keys(r.chanGraph.nodes),()=>0);for(let l of r.words)qu[r.rule.changeableIdx](l.at(r.rule.headIdx)).forEach(v=>{i[v]++});const c=Object.keys(r.chanGraph.nodes).filter(l=>r.chanGraph.nodes[l].type==="route");for(let l of c)i[l]=r.chanGraph.successors(l).reduce((v,_)=>v+r.wordGraph.successors(_).reduce((y,N)=>r.wordGraph._succ[_][N]+y,0),0);return i}static endsWithNum(r){const i=ze(Object.keys(r.chanGraph.nodes),()=>0);for(let l of r.words)ot[r.rule.changeableIdx](l.at(r.rule.tailIdx)).forEach(v=>{i[v]++});const c=Object.keys(r.chanGraph.nodes).filter(l=>r.chanGraph.nodes[l].type==="route");for(let l of c)i[l]=r.wordGraph.predecessors(l).reduce((v,_)=>r.wordGraph._pred[l][_]+v,0);return i}static getWordType(r,i){const c=i.at(r.rule.headIdx),l=i.at(r.rule.tailIdx);return r.returnWordMap.hasEdge(c,l)&&r.returnWordMap.select(c,l).includes(i)?{type:"return"}:r.wordGraph.nodes[c].type==="win"?r.chanGraph.nodes[l].type==="win"?{type:"los",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="los"?{type:"win",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="wincir"?{type:"loscir",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="loscir"?{type:"wincir",endNum:r.chanGraph.nodes[l].endNum+1}:{type:"route"}:r.wordGraph.nodes[c].type==="los"?{type:"los",endNum:r.chanGraph.nodes[l].endNum+1}:r.wordGraph.nodes[c].type==="wincir"?r.chanGraph.nodes[l].type==="win"?{type:"los",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="loscir"?{type:"wincir",endNum:r.chanGraph.nodes[l].endNum+1}:r.wordGraph.nodes[c].solution==l?{type:"wincir",endNum:r.chanGraph.nodes[c].endNum}:r.chanGraph.nodes[l].type==="wincir"?{type:"loscir",endNum:r.chanGraph.nodes[l].endNum+1}:{type:"route"}:r.wordGraph.nodes[c].type==="loscir"?r.chanGraph.nodes[l].type==="win"?{type:"los",endNum:r.chanGraph.nodes[l].endNum+1}:{type:"loscir",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="win"?{type:"los",endNum:r.chanGraph.nodes[l].endNum+1}:r.chanGraph.nodes[l].type==="wincir"?{type:"loscir",endNum:r.chanGraph.nodes[l].endNum+1}:{type:"route"}}static compareWord(r,i,c){const l=i.at(r.rule.headIdx),v=c.at(r.rule.headIdx),_=i.at(r.rule.tailIdx),y=c.at(r.rule.tailIdx);return l>v?1:l<v?-1:_>y?1:_<y?-1:i>=c?1:-1}static searchResult(r,i,c,l,v){if(i.length!==0)if(i.length===1){let _,y;if(c){const I=ot[r.rule.changeableIdx](i).filter($=>$ in r.wordGraph.nodes),M=qu[r.rule.changeableIdx](i).filter($=>$ in r.wordGraph.nodes);_=I.flatMap($=>r.wordMap.outWords($)),y=M.flatMap($=>r.wordMap.inWords($))}else _=r.wordMap.outWords(i),y=r.wordMap.inWords(i);l&&(_=ku(_,r.rule.headIdx,r.rule.tailIdx),y=ku(y,r.rule.headIdx,r.rule.tailIdx));const N={startsWith:{win:[],los:[],route:[],return:[]},endsWith:{head_los:[],head_route:[],rest:[]}},E={},w={};v?_.sort((I,M)=>rn.compareWord(r,I,M)):_.sort();const W=_;v?y.sort((I,M)=>rn.compareWord(r,I,M)):y.sort();const R=y;for(let I of W){const{type:M,endNum:$}=rn.getWordType(r,I);switch(M){case"win":case"wincir":it(E,$,I);break;case"los":case"loscir":it(w,$,I);break;default:N.startsWith[M].push(I)}}for(let I of R)switch(r.chanGraph.nodes[I.at(r.rule.headIdx)].type){case"los":case"loscir":N.endsWith.head_los.push(I);break;case"win":case"wincir":N.endsWith.rest.push(I);break;default:N.endsWith.head_route.push(I);break}return N.startsWith.win=Object.keys(E).map(I=>parseInt(I)).sort((I,M)=>I-M).map(I=>({endNum:I,words:E[I]})),N.startsWith.los=Object.keys(w).map(I=>parseInt(I)).sort((I,M)=>I-M).reverse().map(I=>({endNum:I,words:w[I]})),{isChar:!0,result:N}}else{const _=r.words.filter(E=>E.startsWith(i)).sort(),y=r.words.filter(E=>E.endsWith(i)).sort();return{isChar:!1,result:{startsWith:_,endsWith:y}}}}static reduceWordtype(r){switch(r){case"win":case"wincir":return"win";case"los":case"loscir":return"los";case"route":case"return":return"route"}}static reduceWordtypeWithReturn(r){switch(r){case"win":case"wincir":return"win";case"los":case"loscir":return"los";case"route":return"route";case"return":return"return"}}static getSolutionTree(r,i){function c(N){const E={name:N,children:[]},w=N.length===1?N:N.at(r.rule.tailIdx),W=r.getNextWords(w).filter(R=>!r.returnWordMap.hasEdge(R.at(r.rule.headIdx),R.at(r.rule.tailIdx))||!r.returnWordMap.select(R.at(r.rule.headIdx),R.at(r.rule.tailIdx)).includes(R));W.sort((R,I)=>-r.chanGraph.nodes[R.at(r.rule.tailIdx)].endNum+r.chanGraph.nodes[I.at(r.rule.tailIdx)].endNum);for(let R of W)E.children.push(l(R));return W.length===0&&delete E.children,E}function l(N){const E={name:N,children:[]},w=N.length===1?N:N.at(r.rule.tailIdx),W=r.chanGraph.nodes[w].solution,R=r.wordGraph.nodes[W].solution,I=r.wordMap.select(W,R)[0];return E.children.push(c(I)),E}let v=0;function _(N,E){if(v+=1,v>500)return;const w={name:N,children:[]},W=N.length===1?N:N.at(r.rule.tailIdx),I=[...ot[r.rule.changeableIdx](i).filter($=>r.chanGraph.nodes[$])].reduce(($,on)=>({...$,...r.returnWordGraph._succ[on]}),{}),M=r.getNextWords(W).filter($=>r.chanGraph.nodes[$.at(r.rule.tailIdx)].type==="wincir").filter($=>I[$.at(r.rule.tailIdx)]?(I[$.at(r.rule.tailIdx)]--,!1):!0).filter(($,on,un)=>un.find(Ln=>Ln.at(r.rule.headIdx)===$.at(r.rule.headIdx)&&Ln.at(r.rule.tailIdx)===$.at(r.rule.tailIdx))===$).filter($=>!E.includes($));M.sort(($,on)=>-r.chanGraph.nodes[$.at(r.rule.tailIdx)].endNum+r.chanGraph.nodes[on.at(r.rule.tailIdx)].endNum);for(let $ of M){const on=y($,[...E,$]);if(on)w.children.push(on);else return}return M.length===0&&delete w.children,w}function y(N,E){if(v+=1,v>500)return;const w={name:N,children:[]},W=N.length===1?N:N.at(r.rule.tailIdx),R=r.chanGraph.nodes[W].solution,I=r.wordGraph.nodes[R].solution,M=r.wordMap.select(R,I)[0],$=_(M,[...E,M]);if($)w.children.push($);else return;return w}switch(r.chanGraph.nodes[i].type){case"win":return l(i);case"los":return c(i);case"wincir":return y(i,[]);case"loscir":return _(i,[])}}static downloadWinWords(r){return Object.keys(r.chanGraph.nodes).filter(i=>r.chanGraph.nodes[i].type=="win"||r.chanGraph.nodes[i].type=="wincir").sort().map(i=>{const c=this.searchResult(r,i).result.startsWith;let l=`[${i}]
`;for(const{endNum:v,words:_}of c.win)l=l.concat(`${v}턴 : ${_.join(", ")}
`);return l}).join(`
`)}static downloadWinWordsEssential(r){return Object.keys(r.chanGraph.nodes).filter(i=>r.chanGraph.nodes[i].type=="win"||r.chanGraph.nodes[i].type=="wincir").sort().map(i=>{const c=r.chanGraph.nodes[i].solution,l=r.wordGraph.nodes[r.chanGraph.nodes[c].solution].solution;return`${i} : ${r.wordMap.select(c,l)[0]}`}).join(`
`)}static downloadLosWords(r){return Object.keys(r.chanGraph.nodes).filter(i=>r.chanGraph.nodes[i].type=="los"||r.chanGraph.nodes[i].type=="loscir").sort().map(i=>{const c=this.searchResult(r,i).result.startsWith;let l=`[${i}]
`;c.return.length>0&&(l=l.concat(`돌림 : ${c.return.join(", ")}
`));for(const{endNum:v,words:_}of c.los)l=l.concat(`${v}턴 : ${_.join(", ")}
`);return l}).join(`
`)}static downloadRouteWords(r){return Object.keys(r.chanGraph.nodes).filter(i=>r.chanGraph.nodes[i].type=="route").sort().map(i=>{const c=this.searchResult(r,i).result.startsWith;let l=`[${i}]
`;return c.route.length>0&&(l=l.concat(`루트 : ${c.route.join(", ")}
`)),c.return.length>0&&(l=l.concat(`돌림 : ${c.return.join(", ")}
`)),l}).join(`
`)}static downloadCharInfo(r){const i=this.endInN(r);return i.win.map(({endNum:c,chars:l})=>`[${c} 턴 이내 승리]
${l.join(" ")}`).join(`

`).concat(`

`).concat(i.los.map(({endNum:c,chars:l})=>`[${c} 턴 이내 패배]
${l.join(" ")}`).join(`

`)).concat(i.route.maxComp.length>0?`

`.concat(`[주요 루트]
${i.route.maxComp.join(" ")}`):"").concat(i.route.minComp.length>0?`

`.concat(`[희귀 루트]
${i.route.minComp.join(" ")}`):"")}}function el(a){const r=new ei(a.rule,a.words);return r.wordGraph=Qr(a.wordGraph),r.chanGraph=Qr(a.chanGraph),r.wordMap=Ou(a.wordMap),r.returnWordMap=Ou(a.returnWordMap),r.returnWordGraph=Qr(a.returnWordGraph),r}function ku(a,r,i){const c=new Set,l=[];for(const v of a){const _=v.at(r),y=v.at(i),N=_.concat(y);c.has(N)||(c.add(N),l.push(v))}return l}function zu(a,r){const i=Object.keys(r.nodes).filter(l=>r.successors(l).length===0);i.forEach(l=>{r.nodes[l].type="los",r.nodes[l].endNum=0}),a.removeInEdge(i);let c=Object.keys(a.nodes).filter(l=>a.successors(l).length===0);for(c.forEach(l=>{a.nodes[l].type="los",a.nodes[l].endNum=0});;){const l=[];for(const E of c)r.predecessors(E).forEach(W=>{l.push(W),r.nodes[W].solution=E,r.nodes[W].type="win",r.nodes[W].endNum=a.nodes[E].endNum+1,r.removeOutEdge(W)});if(l.length===0)break;const v=[];for(const E of l)a.predecessors(E).forEach(W=>{v.push(W),a.nodes[W].solution=E,a.nodes[W].type="win",a.nodes[W].endNum=r.nodes[E].endNum,a.removeOutEdge(W)});if(v.length===0)break;a.removeOutEdge(v),r.forEachPreds(v,(E,w)=>{r.nodes[w].endNum=a.nodes[E].endNum+1});const _=r.predecessors(v);r.removeInEdge(v);const y=_.filter(E=>r.successors(E).length===0);if(y.length===0)break;y.forEach(E=>{r.nodes[E].type="los"});const N=a.predecessors(y);if(a.forEachPreds(y,(E,w)=>{a.nodes[w].endNum=r.nodes[E].endNum}),a.removeInEdge(y),c=N.filter(E=>a.successors(E).length===0),c.length===0)break;c.forEach(E=>{a.nodes[E].type="los"})}}function Yu(a,r){const i=(w,W)=>{for(let R of a.predecessors(w))for(let I of a.successors(W))if(r.hasEdge(I,R))return[I,R]},c=Object.keys(r.nodes).filter(w=>!r.nodes[w].type),l=new Ye;for(let w of c)for(let W of r.successors(w)){if(l.hasEdge(w,W))continue;const R=i(w,W);if(!R||l.hasEdge(R[0],R[1]))continue;const[I,M]=R,$=a.successors(M).filter(un=>r.successors(un).length>0),on=a.successors(W).filter(un=>r.successors(un).length>0);if(a.predecessors(w).every(un=>$.every(Ln=>a.hasEdge(un,Ln)))&&a.predecessors(I).every(un=>on.every(Ln=>a.hasEdge(un,Ln))))if(I===w){const un=r._succ[w][W],Ln=Math.floor(un/2)*2;Ln>0&&l.addEdge(w,W,Ln),un%2===1&&a.predecessors(w).every(On=>a.successors(On).length===1)&&(r.nodes[w].loop=W)}else{const un=Math.min(r._succ[w][W],r._succ[I][M]);l.addEdge(w,W,un),l.addEdge(I,M,un)}}for(let w in l.nodes)for(let W of l.successors(w))r.removeEdge(w,W,l._succ[w][W]);for(let w of c)r.nodes[w].loop&&r.removeEdge(w,r.nodes[w].loop);let v=c.filter(w=>r.successors(w).length===0),_=v.filter(w=>r.nodes[w].loop),y=v.filter(w=>!r.nodes[w].loop);_.forEach(w=>{r.nodes[w].solution=r.nodes[w].loop,r.nodes[w].endNum=r.nodes[w].endNum===void 0?1:r.nodes[w].endNum+1,r.nodes[w].type="wincir"}),y.forEach(w=>{r.nodes[w].endNum=r.nodes[w].endNum===void 0?0:r.nodes[w].endNum,r.nodes[w].type="loscir"});let N=[];a.forEachPreds(_,(w,W)=>{N.push(W),a.nodes[W].endNum=r.nodes[w].endNum,a.nodes[W].type="wincir",a.nodes[W].solution=w}),a.removeOutEdge(N),a.forEachPreds(y,(w,W)=>{a.nodes[W].endNum=r.nodes[w].endNum}),a.removeInEdge(y);let E=Object.keys(a.nodes).filter(w=>!a.nodes[w].type&&a.successors(w).length===0);for(E.forEach(w=>{a.nodes[w].type="loscir",a.nodes[w].endNum===void 0&&(a.nodes[w].endNum=0)});E.length>0||N.length>0;){let w=r.predecessors(N);r.forEachPreds(N,(I,M)=>{r.nodes[M].endNum=a.nodes[I].endNum+1}),r.removeInEdge(N),v=w.filter(I=>r.successors(I).length===0),y=v.filter(I=>!r.nodes[I].loop),y.forEach(I=>{r.nodes[I].type="loscir"});const W=v.filter(I=>r.nodes[I].loop);W.forEach(I=>{r.nodes[I].endNum=r.nodes[I].endNum+1,r.nodes[I].type="wincir",r.nodes[I].solution=r.nodes[I].loop});const R=[];for(let I of E){const M=r.predecessors(I);M.forEach($=>{r.nodes[$].endNum=a.nodes[I].endNum+1,r.nodes[$].type="wincir",r.nodes[$].solution=I}),r.removeOutEdge(M),R.push(...M)}_=[...W,...R],N=[],a.forEachPreds(_,(I,M)=>{N.push(M),a.nodes[M].endNum=r.nodes[I].endNum,a.nodes[M].type="wincir",a.nodes[M].solution=I}),a.removeOutEdge(N),w=a.predecessors(y),a.forEachPreds(y,(I,M)=>{a.nodes[M].endNum=r.nodes[I].endNum}),a.removeInEdge(y),E=w.filter(I=>a.successors(I).length===0),E.forEach(I=>{a.nodes[I].type="loscir"})}for(let w in a.nodes)a.nodes[w].type||(a.nodes[w].type="route");for(let w in r.nodes)r.nodes[w].type||(r.nodes[w].type="route");return l}function tl(a,r,i){let c=0;const l=new Set(i),v=ze(i,()=>0),_=ze(i,()=>!1),y=[],N=[],E=w=>{v[w]=++c,N.push(w);let W=v[w];const R=[...new Set((a.nodes[w]?a.successors(w):[]).concat(a.nodes[w]?r.successors(w):[]))].filter(I=>l.has(I));for(let I=0;I<R.length;I++){const M=R[I];v[M]===0?W=Math.min(W,E(M)):_[M]||(W=Math.min(W,v[M]))}if(W===v[w]){const I=[];for(;;){const M=N.pop();if(I.push(M),_[M]=!0,M===w)break}y.push(I)}return W};for(let w of i)v[w]===0&&E(w);return y}function ti(a,r,i){const c=tl(a,r,i),l=c.filter(_=>_.length>=3).flat(),v=c.filter(_=>_.length<3).flat();return[l,v]}function rl(a,r,i){const c=new Set,l=new Set,v=_=>{c.add(_);const y=a.successors(_);y.forEach(E=>l.add(E));const N=y.flatMap(E=>[...r.successors(E),...r.nodes[E].loop?[r.nodes[E].loop]:[]]).filter(E=>!c.has(E));for(let E of N)v(E)};return v(i),new Set([...c,...l])}function tr(a,r,i,c){const l=a.successors(i),v=[];for(let _ of l){for(let y of r.successors(_)){const N={word:[_,y],isLoop:!1};c&&(N.moveNum=tr(a,r,y).length),v.push(N)}if(r.nodes[_].loop){const y={word:[_,r.nodes[_].loop],isLoop:!0};c&&(y.moveNum=tr(a,r,r.nodes[_].loop).length),v.push(y)}}return v}function il(a,r,i,c){var _,y,N,E;let l,v;if(i==="guel")(_=Yt[a.word[0]])!=null&&_[a.word[1]]?l=-((y=Yt[a.word[0]])==null?void 0:y[a.word[1]]):l=a.moveNum,(N=Yt[r.word[0]])!=null&&N[r.word[1]]?v=-((E=Yt[r.word[0]])==null?void 0:E[r.word[1]]):v=r.moveNum;else if(Iu[i]){const w=Iu[i];w[a.word[1]]?l=-w[a.word[1]]:l=a.moveNum,w[r.word[1]]?v=-w[r.word[1]]:v=r.moveNum}else l=a.moveNum,v=r.moveNum;return l-v}let Pe;const Dn=(a,r)=>{const i=Of(a);let c=!1;r.length!==0&&i&&Pe.getNextWords(i.at(Pe.rule.tailIdx)).filter(l=>!r.includes(l)&&l!==i).length===0&&(c=!0),self.postMessage({action:"getComputerMove",data:{word:i,isLos:c}})};let ce;const ul=({namedRule:a,exceptWords:r,currChar:i,strength:c,calcTime:l,steal:v,debug:_})=>{if(c===0)if(i){const y=Pe.getNextWords(i).filter(N=>!r.includes(N));r.length===1&&v&&y.push(r[0]),Dn(y,r);return}else{Dn(Pe.words,r);return}else{const y=Pe==null?void 0:Pe.copy(r),N=E=>{ce&&ce.terminate(),ce=new Worker(new URL("/gagageul/assets/analysisWorker-BQDzVkjF.js",self.location.href),{type:"module"});let w=0,W;const R=()=>{ce.terminate(),_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${E[w]} : 알 수 없음`}]}}),W&&clearTimeout(W),Dn([E[w]],r),ce.terminate()};ce.onmessage=({data:I})=>{switch(I.action){case"end":if(W&&clearTimeout(W),I.data.win)_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${E[w]} : 패배`}]}});else if(r.length!==0){_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${E[w]} : 승리`},{type:"debug",content:"승리 확정"}]}}),Dn([E[w]],r),ce.terminate();return}else _&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${E[w]} : 승리`}]}});if(w===E.length-1){r.length===1&&v?(_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"단어 뺏기"},{type:"debug",content:"승리 확정"}]}}),Dn(r,r)):(_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"패배 확정"}]}}),Dn(E,r));return}else w++,ce.postMessage({action:"startAnalysis",data:{namedRule:a,withStack:!1,chanGraph:y.chanGraph,wordGraph:y.wordGraph,startChar:E[w].at(y.rule.tailIdx),exceptWord:[E[w].at(y.rule.headIdx),E[w].at(y.rule.tailIdx)]}}),W=setTimeout(()=>{R()},1e3*l);return}},ce.postMessage({action:"startAnalysis",data:{namedRule:a,withStack:!1,chanGraph:y.chanGraph,wordGraph:y.wordGraph,startChar:E[0].at(y.rule.tailIdx),exceptWord:[E[0].at(y.rule.headIdx),E[0].at(y.rule.tailIdx)]}}),W=setTimeout(()=>{R()},1e3*l)};if(i){if((y==null?void 0:y.chanGraph.nodes[i].type)!=="route")switch(y==null?void 0:y.chanGraph.nodes[i].type){case"wincir":case"win":_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${i} : 승리 음절`},{type:"debug",content:"승리 확정"}]}}),Dn(rn.getSolutionWord(y,i),r);return;case"los":case"loscir":if(r.length===1&&v){_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${i} : 패배 음절`},{type:"debug",content:"단어 뺏기"},{type:"debug",content:"승리 확정"}]}}),Dn(r,r);return}else{_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:`${i} : 패배 음절`},{type:"debug",content:"패배 확정"}]}});const E=rn.getLosWord(y,i),w=y.getNextWords(i)[0];Dn(E||w?[E||w]:[],r);return}}else if(c===1)_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"랜덤 루트"}]}}),Dn(tr(y.chanGraph,y.wordGraph,i).flatMap(({word:E})=>{const w=E[0],W=E[1];return y.wordMap.select(w,W)}),r);else if(c===2){const E=rl(y.chanGraph,y.wordGraph,i),w=y.chanGraph.getSubgraph(E),W=y.wordGraph.getSubgraph(E);zu(w,W),Yu(w,W),N(tr(y.chanGraph,y.wordGraph,i,!0).sort((R,I)=>il(R,I,a)).map(R=>R.word).map(([R,I])=>y.wordMap.select(R,I)[0]))}}else if(c===1){const E=Object.keys(y.chanGraph.nodes).flatMap(w=>y.chanGraph.nodes[w].type==="route"?y.getNextWords(w).filter(W=>rn.reduceWordtype(rn.getWordType(y,W).type)==="route"):[]);if(E.length>0)Dn(E,r),_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"랜덤루트"}]}});else{const w=y.words.reduce((W,R)=>rn.getWordType(y,W).endNum>rn.getWordType(y,R).endNum?W:R,y.words[0]);Dn([w],r),_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"루트 없음"},{type:"debug",content:`${rn.getWordType(y,w).endNum} 턴 이내 종료`}]}})}}else if(c===2){const E=ve.shuffle(y.wordGraph.edges().map(([w,W])=>y.wordMap.select(w,W)[0]));if(E.length>0)N(E);else{const w=y.words.reduce((W,R)=>rn.getWordType(y,W).endNum>rn.getWordType(y,R).endNum?W:R,y.words[0]);Dn([w],r),_&&self.postMessage({action:"debug",data:{messages:[{type:"debug",content:"루트 없음"},{type:"debug",content:`${rn.getWordType(y,w).endNum} 턴 이내 종료`}]}})}}}};self.onmessage=a=>{const{action:r,data:i}=a.data;switch(r){case"init":Pe=el(i);return;case"getComputerMove":ul(i);return;case"stopAnalysis":ce&&ce.terminate()}}})();
